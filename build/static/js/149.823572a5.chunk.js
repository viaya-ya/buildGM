"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[149],{1268:(e,t,a)=>{a.d(t,{A:()=>l});a(5043);const r={editText:"BottomHeaders_editText__6e9Ca"},i={wrapper:"ButtonAction_wrapper__YWbBU"};var c=a(3732),n=a(4530),s=a(9307),o=a(579);function d(e){let{create:t,update:a,refUpdate:r,refCreate:d}=e;return(0,o.jsxs)("div",{className:i.wrapper,children:[t&&(0,o.jsx)(s.A,{refAction:d,name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:c.A,onClick:t}),a&&(0,o.jsx)(s.A,{refAction:r,name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:n.A,onClick:a})]})}function l(e){let{children:t,create:a,update:i,refUpdate:c,refCreate:n}=e;return(0,o.jsxs)("div",{className:r.editText,children:[t,(0,o.jsx)(d,{create:a,update:i,refUpdate:c,refCreate:n})]})}},6451:(e,t,a)=>{a.d(t,{A:()=>c});a(5043);const r={item:"SelectBorder_item__fFqI+",select:"SelectBorder_select__9Mkwg","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439":"SelectBorder_\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439__2n7E0","\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a":"SelectBorder_\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a__+JQtL","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e":"SelectBorder_\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e__Y7edP"};var i=a(579);function c(e){let{value:t,onChange:a,array:c,array1:n,arrayItem:s,prefix:o,styleSelected:d}=e;return(0,i.jsx)("div",{className:r.item,children:(0,i.jsxs)("select",{name:"mySelect",value:t,onChange:e=>{a(e.target.value)},className:"".concat(r.select," ").concat(r[d]),children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"}),null===c||void 0===c?void 0:c.map((e=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("option",{value:e.id,className:r[e.state],children:[o,e[s]]},e.id)}))),null===n||void 0===n?void 0:n.map((e=>(0,i.jsxs)("option",{value:e.id,className:r[e.state],children:[o,e[s]]},e.id)))]})})}},1818:(e,t,a)=>{a.d(t,{A:()=>c});a(5043);const r={textArea:"TextArea_textArea__dawEa",textColor:"TextArea_textColor__qu0hR"};var i=a(579);function c(e){let{value:t,onChange:a,readOnly:c}=e;return(0,i.jsx)("textarea",{className:"".concat(r.textArea," ").concat(c?r.textColor:""),value:t,onChange:e=>a(e.target.value),disabled:c})}},7214:(e,t,a)=>{a.d(t,{A:()=>c});a(5043);const r={wave:"WaveLetters_wave__DfO0r"};var i=a(579);function c(e){let{letters:t}=e;const a=t.split("");return(0,i.jsx)("div",{className:r.wave,children:null===a||void 0===a?void 0:a.map(((e,t)=>(0,i.jsx)("span",{style:{"--i":t+1},children:" "===e?"\xa0\xa0":e},t)))})}},8149:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r=a(5043);const i={dialog:"Objective_dialog__myE3R",header:"Objective_header__wJ61N",fon:"Objective_fon__l11Aw",pomoshnikSearch:"Objective_pomoshnikSearch__lcLlx",pomoshnik:"Objective_pomoshnik__VzFUX",iconBack:"Objective_iconBack__ldAVj",search:"Objective_search__jXjNR",spanPomoshnik:"Objective_spanPomoshnik__A-k-9",editText:"Objective_editText__8GAOw",one:"Objective_one__mUM-h",two:"Objective_two__1QGAM",three:"Objective_three__Ykz+s",blockSelect:"Objective_blockSelect__aVtAZ",option:"Objective_option__Uknfn",date:"Objective_date__ErTS6",image:"Objective_image__hQKJu",main:"Objective_main__jp5BA",editorContainer:"Objective_editorContainer__7-0hp",deleteIcon:"Objective_deleteIcon__eq0Qq",iconAdd:"Objective_iconAdd__P1GvJ",iconSave:"Objective_iconSave__worYp",Teaxtaera:"Objective_Teaxtaera__XJRvM",add:"Objective_add__DZ9Oi",nameButton:"Objective_nameButton__9saa3",text:"Objective_text__JlA+3",selectHeader:"Objective_selectHeader__JGsz1",textSelectHeader:"Objective_textSelectHeader__IGAFn",textSelectHeaderSpan:"Objective_textSelectHeaderSpan__StMxW",active:"Objective_active__xqvHB",activeTextSelectHeader:"Objective_activeTextSelectHeader__vHFxj",select:"Objective_select__tLlsk",activeSelect:"Objective_activeSelect__lrPHf",completed:"Objective_completed__CdWW8",draft:"Objective_draft__IGM9b"};var c=a(8139),n=a.n(c),s=a(6537),o=a(71),d=a(7214),l=a(1818),_=a(7422),v=a(1268),j=a(6451),u=a(8877),x=a(579);function m(){var e,t,a,c,m;const[h,p]=(0,r.useState)(0),[b,O]=(0,r.useState)(""),[A,S]=(0,r.useState)([]),[g,f]=(0,r.useState)([]),[C,k]=(0,r.useState)([]),[y,w]=(0,r.useState)(""),{currentObjective:N,isLoadingGetObjectiveId:H,isErrorGetObjectiveId:B,isFetchingGetObjectiveId:E,updateObjective:F,isLoadingUpdateObjectiveMutation:T,isSuccessUpdateObjectiveMutation:U,isErrorUpdateObjectiveMutation:G,errorUpdateObjectiveMutation:I,localIsResponseUpdateObjectiveMutation:M}=(0,u.EZ)(b),{activeAndDraftStrategies:L,archiveStrategies:J,isLoadingStrategies:q,isErrorStrategies:P}=(0,u.Od)(),R=(e,t,a)=>{switch(a){case"content":S((a=>{const r=[...a];return r[e]=t,r}));break;case"situation":f((a=>{const r=[...a];return r[e]=t,r}));break;case"rootCause":k((a=>{const r=[...a];return r[e]=t,r}))}};return(0,r.useEffect)((()=>{Array.isArray(N.content)&&S(N.content),Array.isArray(N.situation)&&f(N.situation),Array.isArray(N.rootCause)&&k(N.rootCause)}),[N]),(0,r.useEffect)((()=>{const e=[...J,...L].find((e=>e.id===b));w(null===e||void 0===e?void 0:e.state)}),[b]),(0,x.jsxs)("div",{className:i.dialog,children:[(0,x.jsxs)(_.A,{name:"\u041a\u0440\u0430\u0442\u043a\u043e\u0441\u0440\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043b\u044c",speedGoal:"speedGoal",children:[(0,x.jsx)("div",{className:i.selectHeader,children:["\u041a\u0420\u0410\u0422\u041a\u041e\u0421\u0420\u041e\u0427\u0410\u042f \u0426\u0415\u041b\u042c","\u0421\u0418\u0422\u0423\u0410\u0426\u0418\u042f","\u041f\u0420\u0418\u0427\u0418\u041d\u0410"].map(((e,t)=>(0,x.jsx)("div",{className:n()(i.textSelectHeader,h===t&&i.activeTextSelectHeader),onClick:()=>p(t),children:(0,x.jsx)("span",{className:n()(h===t?i.active:i.textSelectHeaderSpan),children:e})},t)))}),(0,x.jsx)(v.A,{update:async()=>{await F({_id:N.id,situation:g,content:A,rootCause:C}).unwrap().then((()=>{})).catch((e=>{console.error("Error:",JSON.stringify(e,null,2))}))},children:(0,x.jsx)(j.A,{value:b,onChange:e=>{O(e)},array:L,array1:J,arrayItem:"strategyNumber",prefix:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u2116",styleSelected:y})})]}),(0,x.jsx)("div",{className:i.main,children:B||P?(0,x.jsx)(o.A,{Error:B||P}):q||E||H?(0,x.jsx)(o.A,{Loading:q||H,Fetching:E}):(0,x.jsx)(x.Fragment,{children:N.id?(0,x.jsxs)(x.Fragment,{children:[0===h&&(0,x.jsx)(x.Fragment,{children:A.map(((e,t)=>(0,x.jsx)(l.A,{value:e,onChange:e=>R(t,e,"content"),readOnly:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===y},t)))}),1===h&&(0,x.jsx)(x.Fragment,{children:g.map(((e,t)=>(0,x.jsx)(l.A,{value:e,onChange:e=>R(t,e,"situation"),readOnly:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===y},t)))}),2===h&&(0,x.jsx)(x.Fragment,{children:C.map(((e,t)=>(0,x.jsx)(l.A,{value:e,onChange:e=>R(t,e,"rootCause"),readOnly:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===y},t)))}),(0,x.jsx)(s.A,{Loading:T,Error:G&&M,Success:U&&M,textSuccess:"\u041a\u0440\u0430\u0442\u043a\u043e\u0441\u0440\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",textError:null!==I&&void 0!==I&&null!==(e=I.data)&&void 0!==e&&null!==(t=e.errors)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&null!==(c=a.errors)&&void 0!==c&&c[0]?I.data.errors[0].errors[0]:null===I||void 0===I||null===(m=I.data)||void 0===m?void 0:m.message})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(d.A,{letters:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"})})})})]})}}}]);
//# sourceMappingURL=149.823572a5.chunk.js.map