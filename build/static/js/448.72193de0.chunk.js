"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[448],{543:(e,t,a)=>{a.d(t,{A:()=>l});a(5043);const l=a.p+"static/media/statisticsArrowLeft.f7936a0e8650e337baf9f5e86cf7fa65.svg"},1268:(e,t,a)=>{a.d(t,{A:()=>u});a(5043);const l={editText:"BottomHeaders_editText__BUuuG"},r={wrapper:"ButtonAction_wrapper__S7EYo"};var n=a(3732),o=a(4530),i=a(9307),s=a(579);function d(e){let{create:t,update:a,refUpdate:l,refCreate:d}=e;return(0,s.jsxs)("div",{className:r.wrapper,children:[t&&(0,s.jsx)(i.A,{refAction:d,name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:n.A,onClick:t}),a&&(0,s.jsx)(i.A,{refAction:l,name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:o.A,onClick:a})]})}function u(e){let{children:t,create:a,update:r,refUpdate:n,refCreate:o}=e;return(0,s.jsxs)("div",{className:l.editText,children:[t,(0,s.jsx)(d,{create:a,update:r,refUpdate:n,refCreate:o})]})}},3066:(e,t,a)=>{a.d(t,{A:()=>l});a(5043);const l=a.p+"static/media/statisticsArrowRight.3daf16467905e170a2a5537d09a742a8.svg"},6378:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);const l={modalDelete:"ModalWindow_modalDelete__ukhRp",modalDeleteElement:"ModalWindow_modalDeleteElement__6zWsf",modalRow1:"ModalWindow_modalRow1__pu+1f",modalRow2:"ModalWindow_modalRow2__KBA6s",btnYes:"ModalWindow_btnYes__g3eEP",btnNo:"ModalWindow_btnNo__0IBST",textBtnYes:"ModalWindow_textBtnYes__bEP3u",textBtnNo:"ModalWindow_textBtnNo__yJDBD",text:"ModalWindow_text__YqzfM",exitImage:"ModalWindow_exitImage__Bc2Og"};var r=a(7583),n=a(579);function o(e){let{text:t,close:a,btnYes:o,btnNo:i,exitBtn:s}=e;return(0,n.jsx)("div",{className:l.modalDelete,children:(0,n.jsxs)("div",{className:l.modalDeleteElement,children:[(0,n.jsx)("img",{src:r.A,alt:"exit",className:l.exitImage,onClick:()=>a(!1)}),(0,n.jsx)("div",{className:l.modalRow1,children:(0,n.jsx)("span",{className:l.text,children:t})}),!s&&(0,n.jsxs)("div",{className:l.modalRow2,children:[(0,n.jsx)("button",{className:`${l.btnYes} ${l.textBtnYes}`,onClick:o,children:"\u0414\u0430"}),(0,n.jsx)("button",{className:`${l.btnNo} ${l.textBtnNo}`,onClick:i,children:"\u041d\u0435\u0442"})]})]})})}},7321:(e,t,a)=>{a.d(t,{$:()=>s});a(5043);const l={modal:"ModalSelectRadio_modal__NKc1b",modalWindow:"ModalSelectRadio_modalWindow__5RkFz",header:"ModalSelectRadio_header__6ISO7",item1:"ModalSelectRadio_item1__OXY0f",item2:"ModalSelectRadio_item2__V4lIS",search:"ModalSelectRadio_search__asvAb",exit:"ModalSelectRadio_exit__et8tp",table:"ModalSelectRadio_table__ZIpre",row:"ModalSelectRadio_row__smpE+"};var r=a(7583),n=a(4530),o=a(9307),i=a(579);function s(e){let{nameTable:t,handleSearchValue:a,handleSearchOnChange:s,exit:d,filterArray:u,array:c,arrayItem:v,selectedItemID:m,handleRadioChange:g,save:D}=e;return(0,i.jsx)("div",{className:l.modal,children:(0,i.jsxs)("div",{className:l.modalWindow,children:[(0,i.jsx)("img",{src:r.A,alt:"exitModal",onClick:()=>d(),className:l.exit}),(0,i.jsxs)("div",{className:l.header,children:[(0,i.jsx)("div",{className:l.item1,children:(0,i.jsx)("input",{type:"search",placeholder:"\u041d\u0430\u0439\u0442\u0438",value:a,onChange:s,className:l.search})}),D&&(0,i.jsx)("div",{className:l.item2,children:(0,i.jsx)(o.A,{name:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon:n.A,onClick:D})})]}),(0,i.jsxs)("table",{className:l.table,children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("th",{children:t})})}),u.length>0?(0,i.jsx)("tbody",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("td",{children:null===u||void 0===u?void 0:u.map((e=>(0,i.jsxs)("div",{className:l.row,onClick:()=>g(e.id,e),children:[(0,i.jsx)("input",{type:"radio",checked:m===e.id}),e[v]]},e.id)))})})}):(0,i.jsx)("tbody",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("td",{children:null===c||void 0===c?void 0:c.map((e=>(0,i.jsxs)("div",{className:l.row,onClick:()=>g(e.id,e),children:[(0,i.jsx)("input",{type:"radio",checked:m===e.id}),e[v]]},e.id)))})})})]})]})})}},8448:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var l=a(5043);const r={dialog:"ControlPanel_dialog__rq6ds",main:"ControlPanel_main__HyxwA",droppableContainer:"ControlPanel_droppableContainer__kpsNJ",graphics:"ControlPanel_graphics__67Jvw",handler:"ControlPanel_handler__9axiM"};var n=a(7422),o=a(1268),i=a(9742),s=a(8877),d=a(7321),u=a(6378),c=a(6537),v=a(71);const m={modal:"ModalStatistic_modal__uZYyW",modalWindow:"ModalStatistic_modalWindow__VPWUY",exit:"ModalStatistic_exit__Wd3yW",item_rowSVG:"ModalStatistic_item_rowSVG__3B6hl",item_rowBtns:"ModalStatistic_item_rowBtns__C6wtW",btn:"ModalStatistic_btn__ttSAY",btn_active:"ModalStatistic_btn_active__+lsb0",blockArrrow:"ModalStatistic_blockArrrow__cLB03",row_svg_arrow:"ModalStatistic_row_svg_arrow__J0isU"};var g=a(9103),D=a(8053),p=a(7583),h=a(543),x=a(3066),w=a(579);const f=e=>{let{data:t,graphicTypeBD:a,type:r,name:n,exit:o,reportDay:i}=e;const s=(0,l.useRef)(),[d,u]=(0,l.useState)(850),[c,v]=(0,l.useState)(640),[f,S]=(0,l.useState)([]),[_,y]=(0,l.useState)(a),[N,C]=(0,l.useState)(0);(0,l.useEffect)((()=>{const e=()=>{window.innerHeight>900?v(640):window.innerHeight>500&&v(420)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,l.useEffect)((()=>{if(C(0),"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439"===_){var e;const a=new Date,l=a.getDay(),r=new Date(a);let n;n=l>=i?l-i:7-(i-l),r.setDate(a.getDate()-n);const o=new Date(r);o.setDate(r.getDate()+7);const s=[];for(let e=new Date(r);e<o;e.setDate(e.getDate()+1))s.push(new Date(e).toISOString().split("T")[0]);const d=null===t||void 0===t||null===(e=t.filter((e=>{const t=null!==e&&void 0!==e&&e.valueDate?new Date(e.valueDate):null;if(isNaN(null===t||void 0===t?void 0:t.getTime()))return!1;const a=r instanceof Date&&!isNaN(r.getTime()),l=o instanceof Date&&!isNaN(o.getTime());if(!a||!l)return!1;const n=t.toISOString().split("T")[0],i=r.toISOString().split("T")[0],s=o.toISOString().split("T")[0];return i<=n&&n<s&&!0!==e.isCorrelation})))||void 0===e?void 0:e.map((e=>{var t;return{...e,valueDate:null===(t=e.valueDate)||void 0===t?void 0:t.split("T")[0]}})),u=[],c=[];s.forEach((e=>{const t=d.find((t=>t.valueDate===e));t?u.push(t):c.push({id:e,valueDate:e,value:"",isCorrelation:!1})})),u.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))),c.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))),S([...u,...c])}if("\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439"===_){const e=t.reduce(((e,t)=>{const a=new Date(t.valueDate),l=`${a.getFullYear()}-${a.getMonth()+1}`;var r;!isNaN(a)&&new Date((new Date).setMonth((new Date).getMonth()-13))<a&&(!0===(null===t||void 0===t?void 0:t.isCorrelation)&&(e[l]={id:t.id,valueSum:t.value,year:a.getFullYear(),month:a.getMonth()+1,isCorrelation:!0}),e[l]&&null!==(r=e[l])&&void 0!==r&&r.isCorrelation||(e[l]||(e[l]={valueSum:0,year:a.getFullYear(),month:a.getMonth()+1,isCorrelation:!1}),e[l].valueSum+=t.value));return e}),{}),l=[];for(let t=0;t<13;t++){var a;const r=new Date;r.setMonth(r.getMonth()-t);const n=`${r.getFullYear()}-${r.getMonth()+1}`;e[n]||(e[n]={valueSum:0,year:r.getFullYear(),month:r.getMonth()+1,isCorrelation:!1});const o=new Date(r.getFullYear(),r.getMonth()+1,0),i=o.getFullYear(),s=o.getMonth()+1,d=o.getDate();l.push({id:(null===(a=e[n])||void 0===a?void 0:a.id)||null,valueDate:`${i}-${s}-${d}`,value:e[n].valueSum,isCorrelation:e[n].isCorrelation})}l.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))),S(l)}if("\u0415\u0436\u0435\u0433\u043e\u0434\u043e\u0432\u043e\u0439"===_){const e=t.reduce(((e,t)=>{const a=new Date(t.valueDate),l=`${a.getFullYear()}`;var r;!isNaN(a)&&(new Date).getFullYear()-12<a.getFullYear()&&(!0===(null===t||void 0===t?void 0:t.isCorrelation)&&(e[l]={id:t.id,valueSum:t.value,year:a.getFullYear(),isCorrelation:!0}),e[l]&&null!==(r=e[l])&&void 0!==r&&r.isCorrelation||(e[l]||(e[l]={valueSum:0,year:a.getFullYear(),isCorrelation:!1}),e[l].valueSum+=t.value));return e}),{}),a=[];for(let t=0;t<12;t++){var l;const r=new Date;r.setFullYear(r.getFullYear()-t);const n=`${r.getFullYear()}`;e[n]||(e[n]={valueSum:0,year:r.getFullYear(),isCorrelation:!1}),a.push({id:(null===(l=e[n])||void 0===l?void 0:l.id)||null,valueDate:`${r.getFullYear()}-01-01`,value:e[n].valueSum,isCorrelation:e[n].isCorrelation})}a.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))),S(a)}if("13"===_||"26"===_||"52"===_){const e=new Date,a=new Date(e),l=new Date;l.setDate(e.getDate()-7*(Number(_)+1));const r=parseInt(i);if(isNaN(r))throw new Error("selectedDayOfWeek \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c.");const n=[];let o=new Date(l);for(;o.getDay()!==r;)console.log("11111111111111"),o.setDate(o.getDate()+1);for(;o<=a;){console.log("2222222222222222");const a=new Date(o);a.setDate(o.getDate()+7);const l=t.filter((e=>{const t=new Date(e.valueDate);return o<=t&&t<a&&!0!==e.isCorrelation})).reduce(((e,t)=>e+t.value),0),r=new Date(a.getTime()+864e5);r<=e&&n.push({value:l,valueDate:r.toISOString().split("T")[0]}),o=a}S(n.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))))}}),[_]),(0,l.useEffect)((()=>{f.sort(((e,t)=>new Date(e.valueDate)-new Date(t.valueDate)));const e=40,t=20,a=80,l=50,n=(g.jkA(f,(e=>e.value)),1.1*g.T9B(f,(e=>e.value))),o=g.hqK().domain(f.map((e=>""===e.valueDate||null===e.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(e.valueDate,_)))).range([l,d-t]).padding(0),i="\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f"===r?g.m4Y().domain([0,n]).nice().range([e,c-a]):g.m4Y().domain([0,n]).nice().range([c-a,e]),u=g.n8j().x((e=>o(""===e.valueDate||null===e.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(e.valueDate,_)))).y((e=>i(e.value))).defined((e=>null!==e.value));g.Ltv(s.current).selectAll("*").remove();const v=g.Ltv(s.current).attr("width",d).attr("height",c),m=f.map((e=>""===e.valueDate||null===e.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(e.valueDate,_))),p=i.ticks(5);v.selectAll(".grid-vertical").data(m).enter().append("line").attr("class","grid-vertical").attr("x1",(e=>o(e))).attr("x2",(e=>o(e))).attr("y1",e).attr("y2",c-a).attr("stroke","#4a4a4a").attr("stroke-width",1).attr("opacity",.3),v.selectAll(".grid-horizontal").data(p).enter().append("line").attr("class","grid-horizontal").attr("x1",l).attr("x2",d-t).attr("y1",(e=>i(e))).attr("y2",(e=>i(e))).attr("stroke","#4a4a4a").attr("stroke-width",1).attr("opacity",.3);const h=g.l78(o);v.append("g").attr("transform",`translate(0,${c-a})`).call(h).selectAll("text").attr("transform","rotate(-90)").attr("text-anchor","end").attr("dx","-10px").attr("dy","-5px").style("font-weight","bold").style("font-size","12px"),v.append("g").attr("transform",`translate(${l},0)`).call(g.V4s(i).ticks(5).tickFormat(g.GPZ(".2s"))),f.forEach(((e,t)=>{if(t>0){const a=f[t-1].value,l="\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f"===r?e.value<a?"blue":"red":e.value<a?"red":"blue";v.append("path").datum([f[t-1],e]).attr("fill","none").attr("stroke",l).attr("stroke-width",2).attr("d",u)}}));const x=(e,t)=>{if(t>0){const a=f[t-1].value;return"\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f"===r?e<a?"blue":"red":e<a?"red":"blue"}return"green"};v.selectAll("circle").data(f).enter().append("circle").attr("cx",(e=>o(""===e.valueDate||null===e.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(e.valueDate,_)))).attr("cy",(e=>i(e.value))).attr("r",5).attr("fill",((e,t)=>x(e.value,t))).on("mouseover",((a,r)=>{g.Ltv(a.currentTarget).attr("r",7).attr("fill","orange");const n=o(""===r.valueDate||null===r.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(r.valueDate,_)),s=i(r.value)-15,u=`\u0414\u0430\u0442\u0430: ${""===r.valueDate||null===r.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(r.valueDate,_)}`,c=`\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ${r.value}`,m=6*Math.max(u.length,c.length),p=Math.max(120,m+20),h=s-50<e;let w=n;n+p/2>d-t?w=d-t-p/2:n-p/2<l&&(w=l+p/2);const S=h?s+50:s,y=x(r.value,f.indexOf(r)),N=v.append("g").attr("id","tooltip").attr("transform",`translate(${w}, ${S})`);N.append("rect").attr("x",-p/2).attr("y",h?0:-50).attr("width",p).attr("height",50).attr("fill",y).attr("rx",4).attr("ry",4),N.append("text").attr("text-anchor","middle").attr("y",h?15:-30).style("font-size","11px").style("fill","white").style("font-family","Montserrat, sans-serif").text(u),N.append("text").attr("text-anchor","middle").attr("y",h?35:-10).style("font-size","11px").style("fill","white").style("font-family","Montserrat, sans-serif").text(c)})).on("mouseout",(e=>{const t=g.Ltv(e.currentTarget).datum(),a=f.indexOf(t);g.Ltv(e.currentTarget).attr("r",5).attr("fill",x(t.value,a)),v.select("#tooltip").remove()}))}),[f]);return(0,l.useEffect)((()=>{(()=>{if(S([]),t.length){if("\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439"===_){const e=new Date,a=e.getDay(),l=new Date(e);let r;r=a>=i?a-i:7-(i-a),l.setDate(e.getDate()-r);const n=new Date(e);n.setDate(e.getDate()-7),l<n&&l.setTime(n.getTime());const o=[];for(let t=N;t<7+N;t++){const a=new Date(e);a.setDate(e.getDate()-t),o.push(a.toISOString().split("T")[0])}const s=t.reduce(((e,t)=>{const a=t.valueDate.split("T")[0];return e[a]={...t,valueDate:a},e}),{}),d=o.map((e=>s[e]&&!0!==s[e].isCorrelation?s[e]:{id:e,valueDate:e,value:"",isCorrelation:!1})),u=d.filter((e=>""===e.value)),c=d.filter((e=>""!==e.value));S([...c,...u])}if("\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439"===_){const a=t.reduce(((e,t)=>{const a=new Date(t.valueDate),l=`${a.getFullYear()}-${a.getMonth()+1}`;var r;return!isNaN(a)&&new Date((new Date).setMonth((new Date).getMonth()-14+N))<a&&(!0===(null===t||void 0===t?void 0:t.isCorrelation)&&(e[l]={id:t.id,valueSum:t.value,year:a.getFullYear(),month:a.getMonth()+1,isCorrelation:!0}),e[l]&&null!==(r=e[l])&&void 0!==r&&r.isCorrelation||(e[l]||(e[l]={valueSum:0,year:a.getFullYear(),month:a.getMonth()+1,isCorrelation:!1}),e[l].valueSum+=t.value)),e}),{}),l=[];for(let t=N;t<13+N;t++){var e;const r=new Date;r.setMonth(r.getMonth()-t);const n=`${r.getFullYear()}-${r.getMonth()+1}`;a[n]||(a[n]={valueSum:0,year:r.getFullYear(),month:r.getMonth()+1,isCorrelation:!1});const o=new Date(r.getFullYear(),r.getMonth()+1,0),i=o.getFullYear(),s=o.getMonth()+1,d=o.getDate();l.push({id:(null===(e=a[n])||void 0===e?void 0:e.id)||null,valueDate:`${i}-${s}-${d}`,value:a[n].valueSum,isCorrelation:a[n].isCorrelation})}l.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))),S(l)}if("\u0415\u0436\u0435\u0433\u043e\u0434\u043e\u0432\u043e\u0439"===_){const e=t.reduce(((e,t)=>{const a=new Date(t.valueDate),l=`${a.getFullYear()}`;var r;return!isNaN(a)&&(new Date).getFullYear()-12<a.getFullYear()&&(!0===(null===t||void 0===t?void 0:t.isCorrelation)&&(e[l]={id:t.id,valueSum:t.value,year:a.getFullYear(),isCorrelation:!0}),e[l]&&null!==(r=e[l])&&void 0!==r&&r.isCorrelation||(e[l]||(e[l]={valueSum:0,year:a.getFullYear(),isCorrelation:!1}),e[l].valueSum+=t.value)),e}),{}),l=[];for(let t=N;t<12+N;t++){var a;const r=new Date;r.setFullYear(r.getFullYear()-t);const n=`${r.getFullYear()}`;e[n]||(e[n]={valueSum:0,year:r.getFullYear(),isCorrelation:!1}),l.push({id:(null===(a=e[n])||void 0===a?void 0:a.id)||null,valueDate:`${r.getFullYear()}-01-01`,value:e[n].valueSum,isCorrelation:e[n].isCorrelation})}l.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))),S(l)}if("13"===_||"26"===_||"52"===_){const e=new Date;e.setDate(e.getDate()-7*N);const a=new Date(e),l=new Date(a);l.setDate(a.getDate()-7*(Number(_)+1));const r=parseInt(i),n=[];let o=new Date(l),s=0;for(;o.getDay()!==r;)o.setDate(o.getDate()+1);for(;o<=a;){const a=new Date(o);a.setDate(o.getDate()+7),s=t.filter((e=>{const t=new Date(e.valueDate);return o<=t&&t<a&&!0!==e.isCorrelation})).reduce(((e,t)=>e+t.value),0);const l=new Date(a.getTime()+864e5);l<=e&&n.push({value:s,valueDate:l.toISOString().split("T")[0]}),o=a}S(n.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))))}}})()}),[N]),(0,w.jsx)("div",{className:m.modal,children:(0,w.jsxs)("div",{className:m.modalWindow,children:[(0,w.jsx)("img",{src:p.A,alt:"exitModal",onClick:()=>o(),className:m.exit}),(0,w.jsxs)("div",{className:m.item_rowSVG,children:[(0,w.jsx)("span",{children:n}),(0,w.jsxs)("div",{className:m.row_svg_arrow,children:[(0,w.jsx)("svg",{ref:s}),(0,w.jsxs)("div",{className:m.blockArrrow,children:[(0,w.jsx)("div",{className:m.statisticsArrow,children:(0,w.jsx)("img",{src:h.A,alt:"arrowLeft",onClick:()=>{C((e=>e+1))}})}),(0,w.jsx)("div",{className:m.statisticsArrow,children:(0,w.jsx)("img",{src:x.A,alt:"arrowRight",onClick:()=>{C((e=>e-1))}})})]})]})]}),(0,w.jsx)("div",{className:m.item_rowBtns,children:[{type:"13",value:"13 \u043d\u0435\u0434\u0435\u043b\u044c"},{type:"26",value:"26 \u043d\u0435\u0434\u0435\u043b\u044c"},{type:"52",value:"52 \u043d\u0435\u0434\u0435\u043b\u0438"},{type:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439",value:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439"},{type:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439",value:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439"},{type:"\u0415\u0436\u0435\u0433\u043e\u0434\u043e\u0432\u043e\u0439",value:"\u0415\u0436\u0435\u0433\u043e\u0434\u043e\u0432\u043e\u0439"}].map((e=>(0,w.jsx)("button",{className:`${m.btn} ${_===e.type?m.btn_active:""}`,onClick:()=>(e=>{y(e)})(e.type),children:e.value},r)))})]})})},S={block:"PanelDragDrop_block__40DIx",name:"PanelDragDrop_name__vRCNB",button:"PanelDragDrop_button__Tz3-W",active:"PanelDragDrop_active__1B0I7"};var _=a(9792);function y(e){let{name:t,openSetting:a,onClick:l,deletePanel:r,isActive:n}=e;return(0,w.jsxs)("div",{className:`${S.block} ${n?S.active:""}`,onClick:l,children:[(0,w.jsx)("div",{className:S.name,children:(0,w.jsx)("span",{children:t})}),(0,w.jsxs)("div",{className:S.button,children:[(0,w.jsx)("img",{src:_.A,alt:"setting",onClick:a}),(0,w.jsx)("img",{src:p.A,alt:"exitModal",onClick:r})]})]})}const N={modal:"ModalSetting_modal__0tUgQ",modalWindow:"ModalSetting_modalWindow__Fis+q",exit:"ModalSetting_exit__+uf7-",wrapper:"ModalSetting_wrapper__Al+Pq",header:"ModalSetting_header__0XbyO",save:"ModalSetting_save__BUTtr",blockSelect:"ModalSetting_blockSelect__Gk8W1"};var C=a(4530),M=a(917),j=a(2941),b=a(9307),A=a(533);function P(e){let{exit:t,currentControlPanel:a,updateControlPanel:r,statisticsIdsInPanel:n}=e;const[o,i]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[c,v]=(0,l.useState)(""),[m,g]=(0,l.useState)(""),[D,h]=(0,l.useState)([]),{statistics:x,isLoadingGetStatistics:f,isFetchingGetStatistics:S,isErrorGetStatistics:_}=(0,s.SE)({statisticData:!1});return(0,l.useEffect)((()=>{a&&(u(a.isNameChanged?a.panelName:`${a.panelName} ${a.controlPanelNumber}`),i(a.isNameChanged?a.panelName:`${a.panelName} ${a.controlPanelNumber}`),v(a.panelType),g(a.graphType)),n&&h(n)}),[a,n]),(0,w.jsx)("div",{className:N.modal,children:(0,w.jsxs)("div",{className:N.modalWindow,children:[(0,w.jsx)("img",{src:p.A,alt:"exitModal",onClick:t,className:N.exit}),(0,w.jsxs)("div",{className:N.wrapper,children:[(0,w.jsxs)("div",{className:N.header,children:[(0,w.jsx)("div",{className:N.save,children:(0,w.jsx)(b.A,{name:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon:C.A,onClick:async()=>{const e={};e.statisticIds=D,o!==d&&(e.panelName=d),a.panelType!==c&&(e.panelType=c),a.graphType!==m&&(e.graphType=m),await r({...e,id:a.id}).unwrap().then((()=>{t()})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))}})}),(0,w.jsx)(M.A,{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043d\u0435\u043b\u0438",value:`${d}`,onChange:u}),(0,w.jsxs)("div",{className:N.blockSelect,children:[(0,w.jsx)(j.A,{name:"\u0422\u0438\u043f \u043f\u0430\u043d\u0435\u043b\u0438",value:c,onChange:v,array:[{id:"\u041b\u0438\u0447\u043d\u0430\u044f",type:"\u041b\u0438\u0447\u043d\u0430\u044f"},{id:"\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0430\u044f",type:"\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0430\u044f"}],arrayItem:"type"}),(0,w.jsx)(j.A,{name:"\u0422\u0438\u043f \u0433\u0440\u0430\u0444\u0438\u043a\u043e\u0432",value:m,onChange:g,array:[{id:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439",value:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439",view:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439"},{id:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439",value:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439",view:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439"},{id:"\u0415\u0436\u0435\u0433\u043e\u0434\u043e\u0432\u043e\u0439",value:"\u0415\u0436\u0435\u0433\u043e\u0434\u043e\u0432\u043e\u0439",view:"\u0415\u0436\u0435\u0433\u043e\u0434\u043e\u0432\u043e\u0439"},{id:"13",value:"13",view:"13 \u043d\u0435\u0434\u0435\u043b\u044c"},{id:"26",value:"26",view:"26 \u043d\u0435\u0434\u0435\u043b\u044c"},{id:"52",value:"52",view:"52 \u043d\u0435\u0434\u0435\u043b\u0438"}],arrayItem:"view"})]})]}),(0,w.jsx)(A.A,{nameTable:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438",array:x,arrayItem:"name",arrayCheked:D,handleChecboxChange:e=>{h((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))}})]})]})})}var Y=a(1648),k=a(1024);const $={graphic:"CardStatistic_graphic__UhFPv"};function F(e){let{name:t,data:a,typeGraphic:r,type:n,reportDay:o,setOpenModalStatistic:i,setModalStatisticName:s,setModalStatisticDatas:d}=e;const u=(0,l.useRef)(),[c,v]=(0,l.useState)(300),[m,p]=(0,l.useState)(340),[h,x]=(0,l.useState)([]),[f,S]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{if("\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439"===r){const e=new Date,t=e.getDay(),l=new Date(e);let r;r=t>=o?t-o:7-(o-t),l.setDate(e.getDate()-r);const n=new Date(e);n.setDate(e.getDate()-7),l<n&&l.setTime(n.getTime());const i=[];for(let a=0;a<7;a++){const t=new Date(e);t.setDate(e.getDate()-a),i.push(t.toISOString().split("T")[0])}const s=a.reduce(((e,t)=>{const a=t.valueDate.split("T")[0];return e[a]={...t,valueDate:a},e}),{}),d=i.map((e=>s[e]&&!0!==s[e].isCorrelation?s[e]:{id:e,valueDate:e,value:"",isCorrelation:!1})),u=d.filter((e=>""===e.value)),c=d.filter((e=>""!==e.value));x([...c,...u])}if("\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439"===r){const t=a.reduce(((e,t)=>{const a=new Date(t.valueDate),l=`${a.getFullYear()}-${a.getMonth()+1}`;var r;!isNaN(a)&&new Date((new Date).setMonth((new Date).getMonth()-13))<a&&(!0===(null===t||void 0===t?void 0:t.isCorrelation)&&(e[l]={id:t.id,valueSum:t.value,year:a.getFullYear(),month:a.getMonth()+1,isCorrelation:!0}),e[l]&&null!==(r=e[l])&&void 0!==r&&r.isCorrelation||(e[l]||(e[l]={valueSum:0,year:a.getFullYear(),month:a.getMonth()+1,isCorrelation:!1}),e[l].valueSum+=t.value));return e}),{}),l=[];for(let a=0;a<13;a++){var e;const r=new Date;r.setMonth(r.getMonth()-a);const n=`${r.getFullYear()}-${r.getMonth()+1}`;t[n]||(t[n]={valueSum:0,year:r.getFullYear(),month:r.getMonth()+1,isCorrelation:!1});const o=new Date(r.getFullYear(),r.getMonth()+1,0),i=o.getFullYear(),s=o.getMonth()+1,d=o.getDate();l.push({id:(null===(e=t[n])||void 0===e?void 0:e.id)||null,valueDate:`${i}-${s}-${d}`,value:t[n].valueSum,isCorrelation:t[n].isCorrelation})}l.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))),x(l)}if("\u0415\u0436\u0435\u0433\u043e\u0434\u043e\u0432\u043e\u0439"===r){const e=a.reduce(((e,t)=>{const a=new Date(t.valueDate),l=`${a.getFullYear()}`;var r;!isNaN(a)&&(new Date).getFullYear()-12<a.getFullYear()&&(!0===(null===t||void 0===t?void 0:t.isCorrelation)&&(e[l]={id:t.id,valueSum:t.value,year:a.getFullYear(),isCorrelation:!0}),e[l]&&null!==(r=e[l])&&void 0!==r&&r.isCorrelation||(e[l]||(e[l]={valueSum:0,year:a.getFullYear(),isCorrelation:!1}),e[l].valueSum+=t.value));return e}),{}),l=[];for(let a=0;a<12;a++){var t;const r=new Date;r.setFullYear(r.getFullYear()-a);const n=`${r.getFullYear()}`;e[n]||(e[n]={valueSum:0,year:r.getFullYear(),isCorrelation:!1}),l.push({id:(null===(t=e[n])||void 0===t?void 0:t.id)||null,valueDate:`${r.getFullYear()}-01-01`,value:e[n].valueSum,isCorrelation:e[n].isCorrelation})}l.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))),x(l)}if("13"===r||"26"===r||"52"===r){const e=new Date,t=new Date(e),l=new Date;l.setDate(e.getDate()-7*(Number(r)+1));const n=parseInt(o);if(isNaN(n))throw new Error("selectedDayOfWeek \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c.");const i=[];let s=new Date(l);for(;s.getDay()!==n;)s.setDate(s.getDate()+1);for(;s<=t;){const t=new Date(s);t.setDate(s.getDate()+7);const l=a.filter((e=>{const a=new Date(e.valueDate);return s<=a&&a<t&&!0!==e.isCorrelation})).reduce(((e,t)=>e+t.value),0),r=new Date(t.getTime()+864e5);r<=e&&i.push({value:l,valueDate:r.toISOString().split("T")[0]}),s=t}x(i.sort(((e,t)=>new Date(t.valueDate)-new Date(e.valueDate))))}}),[a,r]),(0,l.useEffect)((()=>{null===h||void 0===h||h.sort(((e,t)=>new Date(e.valueDate)-new Date(t.valueDate)));const e=20,t=20,a=40,l=20,o=(g.jkA(h,(e=>e.value)),1.1*g.T9B(h,(e=>e.value))),i=g.hqK().domain(h.map((e=>""===e.valueDate||null===e.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(e.valueDate,r)))).range([l,c-t]).padding(0),s="\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f"===n?g.m4Y().domain([0,o]).nice().range([e,m-a]):g.m4Y().domain([0,o]).nice().range([m-a,e]),d=g.n8j().x((e=>i(""===e.valueDate||null===e.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(e.valueDate,r)))).y((e=>s(e.value))).defined((e=>null!==e.value));g.Ltv(u.current).selectAll("*").remove();const v=g.Ltv(u.current).attr("width",c).attr("height",m),p=h.map((e=>""===e.valueDate||null===e.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(e.valueDate,r))),x=s.ticks(5);v.selectAll(".grid-vertical").data(p).enter().append("line").attr("class","grid-vertical").attr("x1",(e=>i(e))).attr("x2",(e=>i(e))).attr("y1",e).attr("y2",m-a).attr("stroke","#4a4a4a").attr("stroke-width",1).attr("opacity",.3),v.selectAll(".grid-horizontal").data(x).enter().append("line").attr("class","grid-horizontal").attr("x1",l).attr("x2",c-t).attr("y1",(e=>s(e))).attr("y2",(e=>s(e))).attr("stroke","#4a4a4a").attr("stroke-width",1).attr("opacity",.3);const w=g.l78(i).tickFormat((()=>"")).tickSize(0);v.append("g").attr("transform",`translate(0,${m-a})`).call(w).selectAll("text").attr("transform","rotate(-90)").attr("text-anchor","end").attr("dx","-10px").attr("dy","-5px").style("font-weight","bold").style("font-size","12px");const f=g.V4s(s).tickFormat((()=>"")).tickSize(0);v.append("g").attr("transform",`translate(${l},0)`).call(f),h.forEach(((e,t)=>{if(t>0){const a=h[t-1].value,l="\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f"===n?e.value<a?"blue":"red":e.value<a?"red":"blue";v.append("path").datum([h[t-1],e]).attr("fill","none").attr("stroke",l).attr("stroke-width",2).attr("d",d)}}));const S=(e,t)=>{if(t>0){const a=h[t-1].value;return"\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f"===n?e<a?"blue":"red":e<a?"red":"blue"}return"blue"};v.selectAll("circle").data(h).enter().append("circle").attr("cx",(e=>i(""===e.valueDate||null===e.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(e.valueDate,r)))).attr("cy",(e=>s(e.value))).attr("r",5).attr("fill",((e,t)=>S(e.value,t))).on("mouseover",((a,n)=>{g.Ltv(a.currentTarget).attr("r",7).attr("fill","orange");const o=i(""===n.valueDate||null===n.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(n.valueDate,r)),d=s(n.value)-15,u=`\u0414\u0430\u0442\u0430: ${""===n.valueDate||null===n.valueDate?"\u0434\u0430\u0442\u0430":(0,D.A)(n.valueDate,r)}`,m=`\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ${n.value}`,p=6*Math.max(u.length,m.length),x=Math.max(120,p+20),w=d-50<e;let f=o;o+x/2>c-t?f=c-t-x/2:o-x/2<l&&(f=l+x/2);const _=w?d+50:d,y=S(n.value,h.indexOf(n)),N=v.append("g").attr("id","tooltip").attr("transform",`translate(${f}, ${_})`);N.append("rect").attr("x",-x/2).attr("y",w?0:-50).attr("width",x).attr("height",50).attr("fill",y).attr("rx",4).attr("ry",4),N.append("text").attr("text-anchor","middle").attr("y",w?15:-30).style("font-size","11px").style("fill","white").style("font-family","Montserrat, sans-serif").text(u),N.append("text").attr("text-anchor","middle").attr("y",w?35:-10).style("font-size","11px").style("fill","white").style("font-family","Montserrat, sans-serif").text(m)})).on("mouseout",(e=>{const t=g.Ltv(e.currentTarget).datum(),a=h.indexOf(t);g.Ltv(e.currentTarget).attr("r",5).attr("fill",S(t.value,a)),v.select("#tooltip").remove()}))}),[h]),(0,w.jsxs)("div",{className:$.graphic,onPointerDown:e=>{S(!1)},onPointerMove:()=>{S(!0)},onPointerUp:()=>{f||(i(!0),s(t),d(a))},children:[(0,w.jsx)("span",{children:t}),(0,w.jsx)("svg",{ref:u})]})}function I(e){let{id:t,item:a,type:l,typeGraphic:r,reportDay:n,setOpenModalStatistic:o,setModalStatisticName:i,setModalStatisticDatas:s}=e;const{attributes:d,listeners:u,setNodeRef:c,transform:v,transition:m}=(0,Y.gl)({id:t}),g={transform:k.Ks.Transform.toString(v),transition:m};return(0,w.jsx)("div",{ref:c,style:g,...d,...u,children:(0,w.jsx)(F,{name:a.name,data:[...a.statisticDatas],type:l,typeGraphic:r,reportDay:n,setOpenModalStatistic:o,setModalStatisticName:i,setModalStatisticDatas:s})})}var T=a(3585),E=a(6933),O=a(1921),R=a(3536);function B(){var e,t,a,m,g,D,p,h,x,S,_,N,C,M,j;const[b,A]=(0,l.useState)(!1),[k,$]=(0,l.useState)(!1),[F,B]=(0,l.useState)(!1),[L,W]=(0,l.useState)(),[z,G]=(0,l.useState)([]),[U,J]=(0,l.useState)([]),[V,q]=(0,l.useState)(!1),[H,K]=(0,l.useState)(""),[Z,Q]=(0,l.useState)([]),{reduxSelectedOrganizationId:X,reduxSelectedOrganizationReportDay:ee,allControlPanel:te,isLoadingGetAllControlPanel:ae,isFetchingGetAllControlPanel:le,isErrorGetAllControlPanel:re,currentControlPanel:ne,statisticsIdsInPanel:oe,statisticsPoints:ie,isLoadingGetontrolPanelId:se,isFetchingGetontrolPanelId:de,isErrorGetontrolPanelId:ue,postControlPanel:ce,isLoadingPostControlPanelMutation:ve,isSuccessPostControlPanelMutation:me,isErrorPostControlPanelMutation:ge,ErrorPostControlPanel:De,localIsResponsePostControlPanelMutation:pe,updateControlPanel:he,isLoadingUpdateControlPanelMutation:xe,isSuccessUpdateControlPanelMutation:we,isErrorUpdateControlPanelMutation:fe,ErrorUpdateControlPanel:Se,localIsResponseUpdateControlPanelMutation:_e,deleteControlPanel:ye,isLoadingDeleteControlPanelMutation:Ne,isSuccessDeleteControlPanelMutation:Ce,isErrorDeleteControlPanelMutation:Me,ErrorDeleteControlPanel:je,localIsResponseDeleteControlPanelMutation:be}=(0,s.DT)({selectedControlPanelId:L}),{allPosts:Ae,isLoadingGetPosts:Pe,isErrorGetPosts:Ye}=(0,s.es)(),{selectedID:ke,selectedName:$e,handleRadioChange:Fe,handleInputChangeModalSearch:Ie,filterArraySearchModal:Te,inputSearchModal:Ee}=(0,s.I7)({array:Ae,arrayItem:"postName"}),Oe=(0,T.FR)((0,T.MS)(T.AN),(0,T.MS)(T.uN,{coordinateGetter:Y.JR})),{updatePanelToStatisticsUpdateOrderNumbers:Re,isLoadingPanelToStatisticsUpdateOrderNumbersMutation:Be,isSuccessPanelToStatisticsUpdateOrderNumbersMutation:Le,isErrorPanelToStatisticsUpdateOrderNumbersMutation:We,ErrorPanelToStatisticsUpdateOrderNumbersMutation:ze,resetPanelToStatisticsUpdateOrderNumbersMutation:Ge,localIsResponsePanelToStatisticsUpdateOrderNumbersMutation:Ue}=(0,O.A)(),Je=(0,l.useCallback)((0,R.debounce)((e=>{Re(e)}),5e3),[]);return(0,l.useEffect)((()=>{Object.keys(te).length>0?(0,E.QN)(X,(e=>{e.length>0?G((()=>te.map((t=>{const a=e.find((e=>e.id===t.id));return a?{...t,orderNumber:a.orderNumber,isActive:a.isActive}:t})).sort(((e,t)=>e.orderNumber-t.orderNumber)))):G(te)})):G(te)}),[te]),(0,l.useEffect)((()=>{J([])}),[X]),(0,l.useEffect)((()=>{ie&&!(0,R.isEqual)(ie,U)&&J(ie)}),[ie]),(0,w.jsxs)("div",{className:r.dialog,children:[(0,w.jsx)(n.A,{name:"\u043f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",children:(0,w.jsx)(o.A,{create:()=>{$(!0)}})}),(0,w.jsxs)("div",{className:r.main,children:[(0,w.jsx)(i.JY,{onDragEnd:async e=>{const{source:t,destination:a}=e;if(!a)return;const l=Array.from(z),[r]=l.splice(t.index,1);l.splice(a.index,0,r);const n=l.map(((e,t)=>({...e,orderNumber:t+1})));G(n);try{await(0,E.cZ)(X,n.map((e=>{let{id:t,orderNumber:a,panelName:l}=e;return{id:t,orderNumber:a,panelName:l}}))),console.log("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0432 IndexedDB")}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 IndexedDB:",o)}},children:(0,w.jsx)(i.gL,{droppableId:"panelList",direction:"horizontal",children:e=>(0,w.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:r.droppableContainer,children:[null===z||void 0===z?void 0:z.map(((e,t)=>(0,w.jsx)(i.sx,{draggableId:`item-${t}`,index:t,children:t=>(0,w.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:(0,w.jsx)(y,{isActive:ne.id===e.id,openSetting:()=>A(!0),name:e.isNameChanged?e.panelName:`${e.panelName} ${e.controlPanelNumber}`,onClick:()=>{return t=e.id,(0,E.cZ)(X,z.map((e=>{let{id:t,orderNumber:a,panelName:l}=e;return{id:t,orderNumber:a,panelName:l}})),t),console.log("getControlPanelId"),void W(t);var t},deletePanel:()=>B(!0)})})},t))),e.placeholder]})})}),U.length>0&&(0,w.jsx)(T.Mp,{sensors:Oe,collisionDetection:T.fp,onDragEnd:e=>{const{active:t,over:a}=e;t.id!==a.id&&J((e=>{const l=e.findIndex((e=>e.id===t.id)),r=e.findIndex((e=>e.id===a.id)),n=(0,Y.be)(e,l,r),o=n.map(((e,t)=>({_id:e.panelToStatisticsId,orderStatisticNumber:t+1})));return Je(o),n}))},children:(0,w.jsx)(Y.gB,{items:U,strategy:Y.kL,children:(0,w.jsx)("div",{className:r.graphics,children:U.map((e=>(0,w.jsx)(I,{id:e.id,item:e,type:"\u041f\u0440\u044f\u043c\u0430\u044f",typeGraphic:ne.graphType,reportDay:ee,setOpenModalStatistic:q,setModalStatisticName:K,setModalStatisticDatas:Q},e.id)))})})}),!ue&&!se&&!de&&b&&(0,w.jsx)(P,{exit:()=>A(!1),updateControlPanel:he,currentControlPanel:ne,statisticsIdsInPanel:oe}),!ue&&!se&&!de&&F&&(0,w.jsx)(u.A,{text:`\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f ${ne.isNameChanged?ne.panelName:`${ne.panelName} ${ne.controlPanelNumber}`}`,close:B,btnYes:()=>{(async()=>{try{await ye({controlPanelId:L}).unwrap(),W(),B(!1),(0,E.Dl)(X,L).then((()=>{console.log(`\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441 id ${L} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0438\u0437 IndexedDB.`)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0438\u0437 IndexedDB:",e)}))}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u0430\u043d\u0435\u043b\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f:",JSON.stringify(e,null,2))}})()},btnNo:()=>{B(!1)}}),k&&(0,w.jsx)(d.$,{nameTable:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",handleSearchValue:Ee,handleSearchOnChange:Ie,handleRadioChange:Fe,exit:()=>{$(!1)},filterArray:Te,array:Ae,arrayItem:"postName",selectedItemID:ke,save:async()=>{await ce({orderNumber:0==te.length?1:te.length+1,panelName:`${$e} \u2116`,organizationId:X,postId:ke}).unwrap().then((()=>{$(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))}}),V&&(0,w.jsx)(f,{data:Z,name:H,graphicTypeBD:ne.graphType,type:"\u041f\u0440\u044f\u043c\u0430\u044f",exit:()=>q(!1),reportDay:ee}),(0,w.jsxs)("div",{className:r.handler,children:[(0,w.jsx)(v.A,{Loading:ae,Fetching:le,Error:re}),(0,w.jsx)(v.A,{Loading:se,Fetching:de,Error:ue}),(0,w.jsx)(c.A,{Loading:ve,Error:ge&&pe,Success:me&&pe,textSuccess:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430.",textError:null!==De&&void 0!==De&&null!==(e=De.data)&&void 0!==e&&null!==(t=e.errors)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&null!==(m=a.errors)&&void 0!==m&&m[0]?De.data.errors[0].errors[0]:null===De||void 0===De||null===(g=De.data)||void 0===g?void 0:g.message}),(0,w.jsx)(c.A,{Loading:xe,Error:fe&&_e,Success:we&&_e,textSuccess:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430.",textError:null!==Se&&void 0!==Se&&null!==(D=Se.data)&&void 0!==D&&null!==(p=D.errors)&&void 0!==p&&null!==(h=p[0])&&void 0!==h&&null!==(x=h.errors)&&void 0!==x&&x[0]?Se.data.errors[0].errors[0]:null===Se||void 0===Se||null===(S=Se.data)||void 0===S?void 0:S.message}),(0,w.jsx)(c.A,{Loading:Ne,Error:Me&&be,Success:Ce&&be,textSuccess:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0430",textError:null!==je&&void 0!==je&&null!==(_=je.data)&&void 0!==_&&null!==(N=_.errors)&&void 0!==N&&null!==(C=N[0])&&void 0!==C&&null!==(M=C.errors)&&void 0!==M&&M[0]?je.data.errors[0].errors[0]:null===je||void 0===je||null===(j=je.data)||void 0===j?void 0:j.message})]})]})]})}}}]);
//# sourceMappingURL=448.72193de0.chunk.js.map