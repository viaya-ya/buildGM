"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[886],{1268:(e,t,a)=>{a.d(t,{A:()=>c});a(5043);const r={editText:"BottomHeaders_editText__BUuuG"},n={wrapper:"ButtonAction_wrapper__S7EYo"};var o=a(3732),s=a(4530),l=a(9307),i=a(579);function d(e){let{create:t,update:a,refUpdate:r,refCreate:d}=e;return(0,i.jsxs)("div",{className:n.wrapper,children:[t&&(0,i.jsx)(l.A,{refAction:d,name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:o.A,onClick:t}),a&&(0,i.jsx)(l.A,{refAction:r,name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:s.A,onClick:a})]})}function c(e){let{children:t,create:a,update:n,refUpdate:o,refCreate:s}=e;return(0,i.jsxs)("div",{className:r.editText,children:[t,(0,i.jsx)(d,{create:a,update:n,refUpdate:o,refCreate:s})]})}},1818:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);const r={textArea:"TextArea_textArea__W74x1",textColor:"TextArea_textColor__B5yhy"};var n=a(579);function o(e){let{value:t,onChange:a,readOnly:o}=e;return(0,n.jsx)("textarea",{className:`${r.textArea} ${o?r.textColor:""}`,value:t,onChange:e=>a(e.target.value),disabled:o})}},2886:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var r=a(5043);const n={dialog:"Strategy_dialog__dL8ZC",header:"Strategy_header__rAeoI",fon:"Strategy_fon__3PORZ",pomoshnikSearch:"Strategy_pomoshnikSearch__YKmt8",pomoshnik:"Strategy_pomoshnik__H6G+b",iconBack:"Strategy_iconBack__Ye3kO",search:"Strategy_search__vgnlW",spanPomoshnik:"Strategy_spanPomoshnik__VlMoT",editText:"Strategy_editText__4KWog",two:"Strategy_two__f-PxZ",iconSavetmp:"Strategy_iconSavetmp__wdrl6",blockSelect:"Strategy_blockSelect__T1xf7",option:"Strategy_option__WIMyM",date:"Strategy_date__AwND-",actionButton:"Strategy_actionButton__IvY1c",iconAdd:"Strategy_iconAdd__rZGlO",iconSave:"Strategy_iconSave__LsCOV",image:"Strategy_image__N7Zxv",itemName:"Strategy_itemName__KWt1T",select:"Strategy_select__n89TH",div:"Strategy_div__fuyAi",main:"Strategy_main__jaz1m",Teaxtaera:"Strategy_Teaxtaera__Pu+O+",active:"Strategy_active__FQoSU",completed:"Strategy_completed__ZFT0M",draft:"Strategy_draft__I6Zhi"};var o=a(6537),s=a(71),l=a(7214),i=a(6378),d=a(1818),c=a(7422),_=a(1268),u=a(6451),g=a(2941),x=a(8877),m=a(839),S=a(4863),v=a(4293),y=a(579);function h(){var e,t,a,h,p,f,j,A,w,N;const[B,M]=(0,r.useState)(""),[b,C]=(0,r.useState)(""),[k,I]=(0,r.useState)(""),[E,O]=(0,r.useState)(null),[W,T]=(0,r.useState)(!1),[R,F]=(0,r.useState)(!1),P=(0,r.useRef)(null),Y=(0,r.useRef)(null),D=(0,r.useRef)(null),L=(0,r.useRef)(null),[U,$]=(0,r.useState)(!1),Z=[{title:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e",description:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u043a\u0440\u0430\u0442\u043a\u043e\u0441\u0440\u043e\u0447\u043d\u043e\u0439 \u0446\u0435\u043b\u0438",target:()=>Y.current},{title:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u043f\u043e\u043c\u0435\u043d\u044f\u0439\u0442\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",target:()=>B?P.current:null,disabled:!B},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",target:()=>D.current},{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",target:()=>L.current}].filter((e=>!e.disabled)),{reduxSelectedOrganizationId:z,activeAndDraftStrategies:G,archiveStrategies:J,activeStrategyId:H,hasDraftStrategies:K,isLoadingStrategies:Q,isErrorStrategies:V,postStrategy:q,isLoadingPostStrategyMutation:X,isSuccessPostStrategyMutation:ee,isErrorPostStrategyMutation:te,errorPostStrategyMutation:ae,localIsResponsePostStrategyMutation:re,currentStrategy:ne,currentStrategyState:oe,isLoadingStrategyId:se,isFetchingStrategyId:le,isErrorStrategyId:ie,updateStrategy:de,isLoadingUpdateStrategyMutation:ce,isSuccessUpdateStrategyMutation:_e,isErrorUpdateStrategyMutation:ue,errorUpdateStrategyMutation:ge,localIsResponseUpdateStrategyMutation:xe}=(0,x.Od)(B),me=({"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a":["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439","\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"],"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439":["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"],"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e":["\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"]}[ne.state]||[]).map((e=>({id:e,value:e}))),Se=async()=>{await q({content:" ",organizationId:z}).unwrap().then((e=>{O(e.id)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},ve=async()=>{const e=[];""!==b&&b!==ne.state&&(e.state=b),console.log(k),k!==ne.content&&(e.content=k),await de({_id:B,...e}).unwrap().then((()=>{T(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))};return(0,r.useEffect)((()=>{null!==E&&M(E)}),[E]),(0,r.useEffect)((()=>{ne.content&&I(ne.content),ne.state&&C(ne.state)}),[ne.id]),(0,y.jsxs)("div",{className:n.dialog,children:[(0,y.jsx)(c.A,{name:"\u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",funcActiveHint:()=>$(!0),children:(0,y.jsxs)(_.A,{create:()=>{!0===K?F(!0):Se()},update:()=>{console.log("activeStrategyId"),console.log(H),"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"===b&&"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"===ne.state&&H?T(!0):ve()},refCreate:D,refUpdate:L,children:[(0,y.jsx)(u.A,{refSelectBorder:Y,value:B,onChange:e=>{M(e)},array:G,array1:J,arrayItem:"strategyNumber",prefix:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u2116",styleSelected:oe}),B&&(0,y.jsx)(g.A,{refSelect:P,name:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:b,onChange:C,array:me,arrayItem:"value",disabledPole:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===ne.state})]})}),(0,y.jsx)(m.Ay,{locale:v.A,children:(0,y.jsx)(S.A,{open:U,onClose:()=>$(!1),steps:Z})}),(0,y.jsxs)("div",{className:n.main,children:[V?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(s.A,{Error:!0})}):(0,y.jsx)(y.Fragment,{children:ie?(0,y.jsx)(s.A,{Error:ie}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.A,{Loading:Q}),se||le?(0,y.jsx)(s.A,{Loading:se,Fetching:le}):(0,y.jsx)(y.Fragment,{children:ne.id?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.A,{value:k,onChange:I,readOnly:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===ne.state},ne.id),(0,y.jsx)(o.A,{Loading:ce,Error:ue&&xe,Success:_e&&xe,textSuccess:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",textError:null!==ge&&void 0!==ge&&null!==(e=ge.data)&&void 0!==e&&null!==(t=e.errors)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&null!==(h=a.errors)&&void 0!==h&&h[0]?ge.data.errors[0].errors[0]:null===ge||void 0===ge||null===(p=ge.data)||void 0===p?void 0:p.message}),(0,y.jsx)(o.A,{Loading:X,Error:te&&re,Success:ee&&re,textSuccess:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430.",textError:null!==ae&&void 0!==ae&&null!==(f=ae.data)&&void 0!==f&&null!==(j=f.errors)&&void 0!==j&&null!==(A=j[0])&&void 0!==A&&null!==(w=A.errors)&&void 0!==w&&w[0]?ae.data.errors[0].errors[0]:null===ae||void 0===ae||null===(N=ae.data)||void 0===N?void 0:N.message})]}):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(l.A,{letters:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"})})})]})}),W?(0,y.jsx)(i.A,{text:"\u0423 \u0412\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f, \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u0414\u0430, \u041e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430.",close:T,btnYes:async()=>{await de({_id:H,state:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"}).unwrap().then((()=>{ve()})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},btnNo:async()=>{const e=[];k!==ne.content&&(e.content=k),e.content?await de({_id:B,...e}).unwrap().then((()=>{C("\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"),T(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))})):(T(!1),C("\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"))}}):(0,y.jsx)(y.Fragment,{}),R?(0,y.jsx)(i.A,{text:"\u0423 \u0412\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",close:F,exitBtn:!0}):(0,y.jsx)(y.Fragment,{})]})]})}},6378:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);const r={modalDelete:"ModalWindow_modalDelete__ukhRp",modalDeleteElement:"ModalWindow_modalDeleteElement__6zWsf",modalRow1:"ModalWindow_modalRow1__pu+1f",modalRow2:"ModalWindow_modalRow2__KBA6s",btnYes:"ModalWindow_btnYes__g3eEP",btnNo:"ModalWindow_btnNo__0IBST",textBtnYes:"ModalWindow_textBtnYes__bEP3u",textBtnNo:"ModalWindow_textBtnNo__yJDBD",text:"ModalWindow_text__YqzfM",exitImage:"ModalWindow_exitImage__Bc2Og"};var n=a(7583),o=a(579);function s(e){let{text:t,close:a,btnYes:s,btnNo:l,exitBtn:i}=e;return(0,o.jsx)("div",{className:r.modalDelete,children:(0,o.jsxs)("div",{className:r.modalDeleteElement,children:[(0,o.jsx)("img",{src:n.A,alt:"exit",className:r.exitImage,onClick:()=>a(!1)}),(0,o.jsx)("div",{className:r.modalRow1,children:(0,o.jsx)("span",{className:r.text,children:t})}),!i&&(0,o.jsxs)("div",{className:r.modalRow2,children:[(0,o.jsx)("button",{className:`${r.btnYes} ${r.textBtnYes}`,onClick:s,children:"\u0414\u0430"}),(0,o.jsx)("button",{className:`${r.btnNo} ${r.textBtnNo}`,onClick:l,children:"\u041d\u0435\u0442"})]})]})})}},6451:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);const r={item:"SelectBorder_item__DiOvO",select:"SelectBorder_select__1QGX7","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439":"SelectBorder_\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439__LTOt8","\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a":"SelectBorder_\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a__fMOp0","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e":"SelectBorder_\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e__buugC"};var n=a(579);function o(e){let{value:t,onChange:a,array:o,array1:s,arrayItem:l,prefix:i,styleSelected:d,refSelectBorder:c}=e;return(0,n.jsx)("div",{className:r.item,ref:c,children:(0,n.jsxs)("select",{name:"mySelect",value:t,onChange:e=>{a(e.target.value)},className:`${r.select} ${r[d]}`,children:[(0,n.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"}),null===o||void 0===o?void 0:o.map((e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("option",{value:e.id,className:r[e.state],children:[i,e[l]]},e.id)}))),null===s||void 0===s?void 0:s.map((e=>(0,n.jsxs)("option",{value:e.id,className:r[e.state],children:[i,e[l]]},e.id)))]})})}},7214:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);const r={wave:"WaveLetters_wave__2Gves"};var n=a(579);function o(e){let{letters:t}=e;const a=t.split("");return(0,n.jsx)("div",{className:r.wave,children:null===a||void 0===a?void 0:a.map(((e,t)=>(0,n.jsx)("span",{style:{"--i":t+1},children:" "===e?"\xa0\xa0":e},t)))})}}}]);
//# sourceMappingURL=886.b3cad6cd.chunk.js.map