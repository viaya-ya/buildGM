"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[74],{5074:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});r(5043);var a,s=r(7528),o=r(2638),n=r(7598),i=r(7264),d=r(8916),c=r(579);const l=(0,i.rU)((e=>{let{css:t,token:r}=e;const{antCls:o}=r;return{customTable:t(a||(a=(0,s.A)(["\n      ","-table {\n        ","-table-container {\n          ","-table-body,\n          ","-table-content {\n            scrollbar-width: thin;\n            scrollbar-color: #eaeaea transparent;\n            scrollbar-gutter: stable;\n          }\n        }\n      }\n    "])),o,o,o,o)}}));function p(e){let{expandedRowKeys:t,setExpandedRowKeys:r,form:a,targetStateOnProduct:s,setTargetStateOnProduct:i,selectedProjectId:p,disabledTable:u,tables:j,setTables:g,isLoadingGetProjectId:P,isFetchingGetProjectId:b,targets:m,posts:h,setDescriptionProduct:x,descriptionProduct:y}=e;const{styles:I}=l(),{groupColumns:v,dataWithGroups:w,expandableConfig:A}=(0,d.A)({expandedRowKeys:t,setExpandedRowKeys:r,form:a,targetStateOnProduct:s,setTargetStateOnProduct:i,selectedProjectId:p,disabledTable:u,tables:j,setTables:g,isLoadingGetProjectId:P,isFetchingGetProjectId:b,targets:m,posts:h,setDescriptionProduct:x,descriptionProduct:y,stylesColumnSelect:{style:{width:"100%"},placement:"topLeft"},stylesColumnDate:{style:{width:"100%"}}});return(0,c.jsx)(o.A,{form:a,disabled:u,children:(0,c.jsx)(n.A,{bordered:!0,className:I.customTable,loading:P||b,columns:v,dataSource:w,rowKey:"key",pagination:!1,scroll:{x:"max-content",y:"calc(100vh - 320px)"},style:{width:"100%"},expandable:A})})}var u=r(8677),j=r(6597),g=r(1982),P=r(4434),b=r(898),m=r(5206),h=r(8738),x=r(8057);function y(e){var t;let{currentProject:r,isLoadingGetProjectId:a,open:s,setOpen:n,disabled:i,programId:d}=e;const{form:l,isSaving:p,setIsSaving:y,strategies:I,isLoadingGetNew:v,currentProgram:w,isLoadingGetProgramId:A,isErrorGetProgramId:G,isFetchingGetProgramId:S,updateProject:T,isLoadingUpdateProjectMutation:C,isSuccessUpdateProjectMutation:f,isErrorUpdateProjectMutation:L,ErrorUpdateProjectMutation:O,localIsResponseUpdateProjectMutation:E,handlePostValuesChange:M,handleSave:R,handleReset:U}=(0,x.A)({currentProject:r,isLoadingGetProjectId:a,open:s,setOpen:n,disabled:i,programId:d});return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(u.A,{closable:!0,destroyOnClose2:!0,title:(0,c.jsx)("div",{style:{whiteSpace:"nowrap"},children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),placement:"right",open:s,loading:a||v,onClose:()=>{n(!1),U()},width:h.Fr?300:350,children:(0,c.jsxs)(j.A,{vertical:!0,style:{height:"100%"},children:[(0,c.jsxs)(o.A,{disabled:i,form:l,onValuesChange:M,layout:"vertical",style:{flexGrow:1},children:[(0,c.jsx)(o.A.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",name:"projectName",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"}],children:(0,c.jsx)(g.A,{})}),d?(0,c.jsx)(o.A.Item,{label:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",children:(0,c.jsx)(g.A,{disabled:!0,value:null===w||void 0===w?void 0:w.projectName})}):null,d?(0,c.jsx)(o.A.Item,{label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",children:(0,c.jsx)(P.A,{disabled:!0,value:null===w||void 0===w||null===(t=w.strategy)||void 0===t?void 0:t.id,options:I.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})}):(0,c.jsx)(o.A.Item,{label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",name:"strategyId",children:(0,c.jsx)(P.A,{allowClear:!0,showSearch:!0,optionFilterProp:"label",filterOption:(e,t)=>null===t||void 0===t?void 0:t.label.toLowerCase().includes(e.toLowerCase()),options:I.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})})]}),(0,c.jsxs)(b.A,{style:{marginTop:"auto"},children:[(0,c.jsx)(m.Ay,{type:"primary",onClick:R,loading:p,disabled:i,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,c.jsx)(m.Ay,{onClick:U,disabled:i,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})})})}var I=r(5337),v=r(8143),w=r(8918),A=r(6651),G=(r(3536),r(8824));function S(e){let{activeTabTypes:t,disabledTable:r}=e;const{onChangeTab:a,addProject:s,updateSingleProject:o,selectedProjectId:n,setSelectedProjectId:i,descriptionProduct:d,setDescriptionProduct:l,form:u,isSaving:g,setIsSaving:P,tables:b,setTables:h,expandedRowKeys:x,setExpandedRowKeys:S,items:T,setItems:C,activeTab:f,setActiveTab:L,openDrawer:O,setOpenDrawer:E,projects:M,archivesProjects:R,projectsWithProgram:U,archivesProjectsWithProgram:k,isErrorGetProject:K,isLoadingGetProject:F,currentProject:N,targets:D,isLoadingGetProjectId:W,isErrorGetProjectId:z,isFetchingGetProjectId:V,posts:_,programs:q,isLoadingGetNew:B,isErrorGetNew:H,reduxSelectedOrganizationId:J,createProject:Q,isLoadingProjectMutation:X,updateProject:Y,isLoadingUpdateProjectMutation:Z,isSuccessUpdateProjectMutation:$,isErrorUpdateProjectMutation:ee,ErrorUpdateProjectMutation:te,localIsResponseUpdateProjectMutation:re,targetStateOnProduct:ae,setTargetStateOnProduct:se}=(0,G.A)({activeTabTypes:t});return(0,c.jsxs)("div",{style:{width:"100%"},children:[(0,c.jsxs)(j.A,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,c.jsx)(w.A,{style:{width:"calc(100% - 40px)"},type:"projects"===t?"editable-card":"card",activeKey:f,items:T,onChange:a,addIcon:(0,c.jsx)(A.A,{placement:"bottom",title:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442",children:(0,c.jsx)(m.Ay,{"data-tour":"create-button",onClick:s,size:"small",type:"text",icon:(0,c.jsx)(I.A,{})})})}),(0,c.jsx)(A.A,{placement:"bottom",title:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:(0,c.jsx)(m.Ay,{"data-tour":"save-button",type:"primary",style:{width:"40px",marginBottom:"15px"},icon:(0,c.jsx)(v.A,{}),onClick:o,loading:g})})]}),n&&(0,c.jsx)(y,{currentProject:N,isLoadingGetProjectId:W,open:O,setOpen:E,disabled:"archivesProjects"===t||"archivesProjectsWithProgram"===t,programId:N.programId}),(0,c.jsx)(p,{expandedRowKeys:x,setExpandedRowKeys:S,form:u,selectedProjectId:n,disabledTable:r,tables:b,setTables:h,isLoadingGetProjectId:W,isFetchingGetProjectId:V,targets:D,targetStateOnProduct:ae,setTargetStateOnProduct:se,posts:_,setDescriptionProduct:l,descriptionProduct:d})]})}}}]);
//# sourceMappingURL=74.382761b8.chunk.js.map