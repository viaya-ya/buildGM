"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[212],{845:(e,a,t)=>{t.d(a,{A:()=>s});t(5043);const s=t.p+"static/media/blackStatistic.547f82d845921f581fe5abd65214d5de.svg"},3371:(e,a,t)=>{t.d(a,{A:()=>s});t(5043);const s=t.p+"static/media/greyPolicy.bc1812d1102c440d49eba0ebc0776092.svg"},1268:(e,a,t)=>{t.d(a,{A:()=>c});t(5043);const s={editText:"BottomHeaders_editText__6e9Ca"},o={wrapper:"ButtonAction_wrapper__YWbBU"};var n=t(3732),l=t(4530),i=t(9307),r=t(579);function d(e){let{create:a,update:t,refUpdate:s,refCreate:d}=e;return(0,r.jsxs)("div",{className:o.wrapper,children:[a&&(0,r.jsx)(i.A,{refAction:d,name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:n.A,onClick:a}),t&&(0,r.jsx)(i.A,{refAction:s,name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:l.A,onClick:t})]})}function c(e){let{children:a,create:t,update:o,refUpdate:n,refCreate:l}=e;return(0,r.jsxs)("div",{className:s.editText,children:[a,(0,r.jsx)(d,{create:t,update:o,refUpdate:n,refCreate:l})]})}},6378:(e,a,t)=>{t.d(a,{A:()=>l});t(5043);const s={modalDelete:"ModalWindow_modalDelete__6F2XA",modalDeleteElement:"ModalWindow_modalDeleteElement__BWKSd",modalRow1:"ModalWindow_modalRow1__lAjGg",modalRow2:"ModalWindow_modalRow2__s2-a6",btnYes:"ModalWindow_btnYes__ScZrA",btnNo:"ModalWindow_btnNo__q5w-4",textBtnYes:"ModalWindow_textBtnYes__nsbep",textBtnNo:"ModalWindow_textBtnNo__3q10K",text:"ModalWindow_text__LCc-R",exitImage:"ModalWindow_exitImage__OFdfY"};var o=t(7583),n=t(579);function l(e){let{text:a,close:t,btnYes:l,btnNo:i,exitBtn:r}=e;return(0,n.jsx)("div",{className:s.modalDelete,children:(0,n.jsxs)("div",{className:s.modalDeleteElement,children:[(0,n.jsx)("img",{src:o.A,alt:"exit",className:s.exitImage,onClick:()=>t(!1)}),(0,n.jsx)("div",{className:s.modalRow1,children:(0,n.jsx)("span",{className:s.text,children:a})}),!r&&(0,n.jsxs)("div",{className:s.modalRow2,children:[(0,n.jsx)("button",{className:"".concat(s.btnYes," ").concat(s.textBtnYes),onClick:l,children:"\u0414\u0430"}),(0,n.jsx)("button",{className:"".concat(s.btnNo," ").concat(s.textBtnNo),onClick:i,children:"\u041d\u0435\u0442"})]})]})})}},7321:(e,a,t)=>{t.d(a,{$:()=>r});t(5043);const s={modal:"ModalSelectRadio_modal__nPGHn",modalWindow:"ModalSelectRadio_modalWindow__dncJU",header:"ModalSelectRadio_header__DW8xM",item1:"ModalSelectRadio_item1__QmdXG",item2:"ModalSelectRadio_item2__Hm1w9",search:"ModalSelectRadio_search__uW77Q",exit:"ModalSelectRadio_exit__BO5fc",table:"ModalSelectRadio_table__nysW+",row:"ModalSelectRadio_row__F5ykw"};var o=t(7583),n=t(4530),l=t(9307),i=t(579);function r(e){let{nameTable:a,handleSearchValue:t,handleSearchOnChange:r,exit:d,filterArray:c,array:_,arrayItem:m,selectedItemID:u,handleRadioChange:x,save:h}=e;return(0,i.jsx)("div",{className:s.modal,children:(0,i.jsxs)("div",{className:s.modalWindow,children:[(0,i.jsx)("img",{src:o.A,alt:"exitModal",onClick:()=>d(),className:s.exit}),(0,i.jsxs)("div",{className:s.header,children:[(0,i.jsx)("div",{className:s.item1,children:(0,i.jsx)("input",{type:"search",placeholder:"\u041d\u0430\u0439\u0442\u0438",value:t,onChange:r,className:s.search})}),h&&(0,i.jsx)("div",{className:s.item2,children:(0,i.jsx)(l.A,{name:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon:n.A,onClick:h})})]}),(0,i.jsxs)("table",{className:s.table,children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("th",{children:a})})}),c.length>0?(0,i.jsx)("tbody",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("td",{children:null===c||void 0===c?void 0:c.map((e=>(0,i.jsxs)("div",{className:s.row,onClick:()=>x(e.id,e),children:[(0,i.jsx)("input",{type:"radio",checked:u===e.id}),e[m]]},e.id)))})})}):(0,i.jsx)("tbody",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("td",{children:null===_||void 0===_?void 0:_.map((e=>(0,i.jsxs)("div",{className:s.row,onClick:()=>x(e.id,e),children:[(0,i.jsx)("input",{type:"radio",checked:u===e.id}),e[m]]},e.id)))})})})]})]})})}},6212:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var s=t(9379),o=t(5043);const n={dialog:"PostNew_dialog__jsC68",header:"PostNew_header__qATk-",fon:"PostNew_fon__OYM4U",pomoshnikSearch:"PostNew_pomoshnikSearch__Zh9Q8",pomoshnik:"PostNew_pomoshnik__jgxT3",iconBack:"PostNew_iconBack__UbBsL",search:"PostNew_search__7f+vi",spanPomoshnik:"PostNew_spanPomoshnik__+iwW3",editText:"PostNew_editText__bRtBf",item:"PostNew_item__g+2y-",itemName:"PostNew_itemName__YBOgY",select:"PostNew_select__4bFuA",div:"PostNew_div__zFrFq",iconSave:"PostNew_iconSave__Krbtz",image:"PostNew_image__9IOsv",main:"PostNew_main__eKfG4",productTeaxtaera:"PostNew_productTeaxtaera__hzNUI",destinyTeaxtaera:"PostNew_destinyTeaxtaera__+BMQB",Teaxtaera:"PostNew_Teaxtaera__Nrt9b",post:"PostNew_post__qpEg1",nameButton:"PostNew_nameButton__99AQq"};var l=t(3371),i=t(845),r=t(3216),d=t(6537),c=t(71),_=t(3003),m=t(6908),u=t(6378),x=t(7422),h=t(1268),p=t(917),N=t(2941),j=t(7321),v=t(876),w=t(8877),g=t(8048),f=t(5986),A=t(839),S=t(4863),b=t(4293),y=t(579);function C(){var e,a,t,C,P;const k=(0,r.Zp)(),M=(0,_.wA)(),I=(0,_.d4)((e=>e.user.createdUserId)),[R,B]=(0,o.useState)(""),[T,W]=(0,o.useState)(null),[Y,D]=(0,o.useState)(),[E,U]=(0,o.useState)("null"),[O,F]=(0,o.useState)(I||"null"),[q,G]=(0,o.useState)(""),[L,z]=(0,o.useState)(""),[Q,H]=(0,o.useState)(!1),[K,Z]=(0,o.useState)(!1),[J,V]=(0,o.useState)(),X=(0,o.useRef)(null),$=(0,o.useRef)(null),ee=(0,o.useRef)(null),ae=(0,o.useRef)(null),te=(0,o.useRef)(null),[se,oe]=(0,o.useState)(!1),ne=[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",description:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",target:()=>X.current},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",description:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",target:()=>$.current},{title:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f",target:()=>ee.current},{title:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",target:()=>ae.current},{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",target:()=>te.current}],{reduxSelectedOrganizationId:le,staff:ie,policies:re,parentPosts:de,roles:ce,maxDivisionNumber:_e,isLoadingGetNew:me,isErrorGetNew:ue,postPosts:xe,isLoadingPostMutation:he,isSuccessPostMutation:pe,isErrorPostMutation:Ne,ErrorPostMutation:je,localIsResponsePostPostMutation:ve}=(0,w.es)(),{selectedID:we,selectedName:ge,handleRadioChange:fe,handleInputChangeModalSearch:Ae,filterArraySearchModal:Se,inputSearchModal:be}=(0,v.I)({array:re,arrayItem:"policyName"});return(0,o.useEffect)((()=>{W("\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u2116".concat(_e)),D("\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u2116".concat(_e))}),[_e]),console.log("worker = ".concat(J)),(0,y.jsxs)("div",{className:n.dialog,children:[(0,y.jsx)(x.A,{name:"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",back:()=>{k("/pomoshnik/post")},funcActiveHint:()=>oe(!0),children:(0,y.jsxs)(h.A,{update:async()=>{const e={};"null"!==we&&null!==we&&(e.policyId=we),e.divisionName=T,"null"!==E&&(e.parentId=E),"null"!==O&&(e.responsibleUserId=O),e.roleId=J||ce.find((e=>"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a"===e.roleName)).id,await xe((0,s.A)((0,s.A)({postName:R},e),{},{product:q,purpose:L,organizationId:le})).unwrap().then((e=>{setTimeout((()=>{var a;a=null===e||void 0===e?void 0:e.id,M((0,m.qt)(a)),k("/pomoshnik/post")}),2e3)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},refUpdate:te,children:[(0,y.jsx)(p.A,{refInput:X,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",value:R,onChange:B}),(0,y.jsx)(p.A,{refInput:$,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f",value:T,onChange:W}),(0,y.jsx)(N.A,{refSelect:ee,name:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c",value:E,onChange:U,array:de,arrayItem:"postName",children:(0,y.jsx)("option",{value:"null",children:" \u2014 "})}),(0,y.jsx)(N.A,{refSelect:ae,name:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",value:O,onChange:F,array:ie,arrayItem:"lastName",arrayItemTwo:"firstName",children:(0,y.jsxs)("option",{value:"null",disabled:!0,children:[" ","\u2014"," "]})})]})}),(0,y.jsx)(A.Ay,{locale:b.A,children:(0,y.jsx)(S.A,{open:se,onClose:()=>oe(!1),steps:ne})}),(0,y.jsx)("div",{className:n.main,children:ue?(0,y.jsx)(c.A,{Error:ue}):(0,y.jsx)(y.Fragment,{children:me?(0,y.jsx)(c.A,{Loading:me}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:n.productTeaxtaera,children:(0,y.jsx)("textarea",{className:n.Teaxtaera,placeholder:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u043e\u0441\u0442\u0430",value:q,onChange:e=>{G(e.target.value)}})}),(0,y.jsx)("div",{className:n.destinyTeaxtaera,children:(0,y.jsx)("textarea",{className:n.Teaxtaera,placeholder:"\u043e\u043f\u0438\u0441\u043d\u0430\u0438\u0435 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430",value:L,onChange:e=>{z(e.target.value)}})}),(0,y.jsx)(g.A,{image:l.A,onClick:()=>H(!0),selectArray:ge,prefix:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430:",btnName:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443"}),(0,y.jsx)(g.A,{image:i.A,onClick:()=>Z(!0),btnName:" \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0430"}),(0,y.jsx)(f.A,{rolesArray:ce,role:J,setRole:V}),K&&(0,y.jsx)(u.A,{text:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0430, \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0430.",close:Z,exitBtn:!0}),Q&&(0,y.jsx)(j.$,{nameTable:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438",handleSearchValue:be,handleSearchOnChange:Ae,handleRadioChange:fe,exit:()=>{H(!1)},filterArray:Se,array:re,arrayItem:"policyName",selectedItemID:we}),(0,y.jsx)(d.A,{Loading:he,Error:Ne&&ve,Success:pe&&ve,textSuccess:"\u041f\u043e\u0441\u0442 ".concat(R," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."),textError:null!==je&&void 0!==je&&null!==(e=je.data)&&void 0!==e&&null!==(a=e.errors)&&void 0!==a&&null!==(t=a[0])&&void 0!==t&&null!==(C=t.errors)&&void 0!==C&&C[0]?je.data.errors[0].errors[0]:null===je||void 0===je||null===(P=je.data)||void 0===P?void 0:P.message})]})})})]})}}}]);
//# sourceMappingURL=212.b65da8a9.chunk.js.map