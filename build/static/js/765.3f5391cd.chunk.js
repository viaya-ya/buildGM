"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[765],{1268:(e,n,t)=>{t.d(n,{A:()=>d});t(5043);const a={editText:"BottomHeaders_editText__6e9Ca"},i={wrapper:"ButtonAction_wrapper__YWbBU"};var r=t(3732),o=t(4530),l=t(9307),c=t(579);function s(e){let{create:n,update:t,refUpdate:a,refCreate:s}=e;return(0,c.jsxs)("div",{className:i.wrapper,children:[n&&(0,c.jsx)(l.A,{refAction:s,name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:r.A,onClick:n}),t&&(0,c.jsx)(l.A,{refAction:a,name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:o.A,onClick:t})]})}function d(e){let{children:n,create:t,update:i,refUpdate:r,refCreate:o}=e;return(0,c.jsxs)("div",{className:a.editText,children:[n,(0,c.jsx)(s,{create:t,update:i,refUpdate:r,refCreate:o})]})}},7765:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var a=t(5043);const i={dialog:"Scheme\u0421ompanies_dialog__A7deL",main:"Scheme\u0421ompanies_main__FadsK"};var r=t(3536),o=t.n(r),l=t(9073),c=t(1450),s=t(7422),d=t(1268),p=t(5206),u=t(3216),g=t(6719),h=t(579);function x(e){let{organization:n,allOrganizations:t,childrenOrg:a}=e;const i=(0,u.Zp)();return(0,h.jsx)(c.n,{label:(0,h.jsxs)(l.A,{loading:!1,style:{display:"inline-block",width:"300px",height:"175px",backgroundColor:n.organizationColor,boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px"},children:[(0,h.jsx)(g.A,{organizationId:n.id,allOrganizations:t}),(0,h.jsx)(p.Ay,{"data-tour":"click-companyName",type:"link",onClick:()=>{return e=n.id,void i("/pomoshnik/postSchema/".concat(e));var e},children:n.organizationName})]}),children:a&&a.length>0?a.map((e=>(0,h.jsx)(x,{organization:e,allOrganizations:t,childrenOrg:e.children},e.id))):null})}var m=t(6081),j=t(8692),f=t(839),A=t(4863),z=t(4293);const b=e=>{let{organizations:n}=e;const t=(e=>{const n={},t=[];return e.forEach((e=>{e.children=[],n[e.id]=e})),e.forEach((e=>{null===e.parentOrganizationId?t.push(e):n[e.parentOrganizationId]&&n[e.parentOrganizationId].children.push(e)})),t})(n);return(0,h.jsx)(h.Fragment,{children:t.map((e=>(0,h.jsx)(x,{organization:e,allOrganizations:n,childrenOrg:e.children},e.id)))})};function k(){const{organizations:e,isLoadingOrganization:n,isErrorOrganization:t}=(0,m.f)(),[r,p]=(0,a.useState)([]),[u,g]=(0,a.useState)(!1),[x,k]=(0,a.useState)(!1),y=(0,a.useRef)(null),C=[{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",target:()=>y.current},{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435",target:()=>document.querySelector('[data-tour="setting-button"]'),disabled:!document.querySelector('[data-tour="setting-button"]')},{title:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430 \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e",target:()=>document.querySelector('[data-tour="click-companyName"]'),disabled:!document.querySelector('[data-tour="click-companyName"]')}].filter((e=>!e.target.toString().includes("querySelector")||!e.disabled));return(0,a.useEffect)((()=>{o().isEqual(r,e)||p(o().cloneDeep(e))}),[e]),(0,h.jsxs)("div",{className:i.dialog,children:[(0,h.jsx)(s.A,{name:"\u0441\u0445\u0435\u043c\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",funcActiveHint:()=>k(!0),children:(0,h.jsx)(d.A,{create:()=>{g(!0)},refCreate:y})}),(0,h.jsx)(f.Ay,{locale:z.A,children:(0,h.jsx)(A.A,{open:x,onClose:()=>k(!1),steps:C})}),(0,h.jsx)(j.A,{open:u,setOpen:g,allOrganizations:e}),(0,h.jsx)("div",{className:i.main,children:(0,h.jsx)(c.P,{lineWidth:"2px",lineColor:"#ccc",lineBorderRadius:"10px",label:(0,h.jsxs)(l.A,{loading:!1,style:{display:"inline-block",width:"300px",height:"175px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px"},children:[(0,h.jsx)("p",{children:"\u041c\u041e\u0419 \u0411\u0418\u0417\u041d\u0415\u0421"}),(0,h.jsx)("p",{children:"\u0421\u041e\u0411\u0421\u0422\u0412\u0415\u041d\u041d\u0418\u041a"}),(0,h.jsx)("p",{children:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d"})]}),children:(0,h.jsx)(b,{organizations:r})})})]})}}}]);
//# sourceMappingURL=765.3f5391cd.chunk.js.map