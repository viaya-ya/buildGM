{"version":3,"file":"static/js/115.ac1a1605.chunk.js","mappings":"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","sources":["webpack://good_management/./src/UI/Custom/Headers/BottomHeaders/BottomHeaders.module.css?e3ba","webpack://good_management/./src/UI/Custom/Headers/BottomHeaders/ButtonAction/ButtonAction.module.css?2769","UI/Custom/Headers/BottomHeaders/ButtonAction/ButtonAction.jsx","UI/Custom/Headers/BottomHeaders/BottomHeaders.jsx","webpack://good_management/./src/UI/app/SettingsPage/desktop/SettingsPage.module.css?7530","UI/app/SettingsPage/desktop/SettingsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"editText\":\"BottomHeaders_editText__6e9Ca\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ButtonAction_wrapper__YWbBU\"};","import React from \"react\";\r\nimport classes from \"./ButtonAction.module.css\";\r\nimport iconAdd from \"../../../../image/iconAdd.svg\";\r\nimport Blacksavetmp from \"../../../../image/Blacksavetmp.svg\";\r\nimport ButtonImage from \"@Custom/buttonImage/ButtonImage\";\r\nexport default function ButtonAction({ create, update, refUpdate, refCreate }) {\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      {create && (\r\n        <ButtonImage\r\n          refAction={refCreate}\r\n          name={\"создать\"}\r\n          icon={iconAdd}\r\n          onClick={create}\r\n        ></ButtonImage>\r\n      )}\r\n\r\n      {update && (\r\n        <ButtonImage\r\n          refAction={refUpdate}\r\n          name={\"обновить\"}\r\n          icon={Blacksavetmp}\r\n          onClick={update}\r\n        ></ButtonImage>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport classes from \"./BottomHeaders.module.css\"\r\nimport ButtonAction from './ButtonAction/ButtonAction'\r\n\r\nexport default function BottomHeaders({children, create, update,  refUpdate, refCreate}) {\r\n  return (\r\n    <div className={classes.editText}>\r\n        {children}\r\n        <ButtonAction create={create} update={update} refUpdate={refUpdate} refCreate={refCreate}></ButtonAction>\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dialog\":\"SettingsPage_dialog__RpxaW\",\"main\":\"SettingsPage_main__2qSgE\",\"wrapper\":\"SettingsPage_wrapper__HG42e\",\"block\":\"SettingsPage_block__RjFdY\",\"column2\":\"SettingsPage_column2__l42W5\",\"avatarContainer\":\"SettingsPage_avatarContainer__5BRwo\",\"avatar\":\"SettingsPage_avatar__cTl0k\",\"hiddenInput\":\"SettingsPage_hiddenInput__jmDCV\"};","import React, { useState, useEffect, useRef } from \"react\";\r\nimport classes from \"./SettingsPage.module.css\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport InputMask from \"react-input-mask\";\r\n\r\nimport { Button, List, FloatButton } from \"antd\";\r\nimport { SaveOutlined } from \"@ant-design/icons\";\r\n\r\nimport Headers from \"@Custom/Headers/Headers\";\r\nimport BottomHeaders from \"@Custom/Headers/BottomHeaders/BottomHeaders\";\r\nimport Input from \"@Custom/Input/Input\";\r\nimport HandlerMutation from \"@Custom/HandlerMutation\";\r\n\r\nimport { notEmpty } from \"@helpers/helpers\";\r\nimport { baseUrl } from \"@helpers/constants\";\r\n\r\nimport addCircle from \"@image/addCircleGrey.svg\";\r\nimport exitHeader from \"@image/exitHeader.svg\";\r\n\r\nimport { useUserHook } from \"@hooks\";\r\nimport { usePostImageMutation } from \"@services\";\r\n\r\nimport { ConfigProvider, Tour } from \"antd\";\r\nimport ruRU from \"antd/locale/ru_RU\";\r\n\r\nexport default function SettingsPage() {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [telephoneNumber, setTelephoneNumber] = useState(\"\");\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const [avatarLocal, setAvatarLocal] = useState(\"\");\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  const refUpdate = useRef(null);\r\n  const [openHint, setOpenHint] = useState(false);\r\n\r\n  const steps = [\r\n    {\r\n      title: \"Сохранить\",\r\n      description: \"Нажмите для сохранения\",\r\n      target: () => refUpdate.current,\r\n    },\r\n    {\r\n      title: \"Аватар\",\r\n      description: \"Нажмите на аватар и поменяйте фотографию, при нажатии на крестик аватар удалиться\",\r\n      target: () => document.querySelector('[data-tour=\"data-avatar\"]'),\r\n    },\r\n    {\r\n      title: \"Личная информация\",\r\n      description: \"Нажмите и поменяйте данные\",\r\n      target: () => document.querySelector('[data-tour=\"data-form\"]'),\r\n    },\r\n    {\r\n      title: \"Личная информация\",\r\n      description: \"Нажмите и поменяйте данные\",\r\n      target: () => document.querySelector('[data-tour=\"data-form\"]'),\r\n    },\r\n    {\r\n      title: \"Закрепленные посты\",\r\n      description: \"Распологаются все посты закрепленные за пользователем\",\r\n      target: () => document.querySelector('[data-tour=\"data-post\"]'),\r\n    },\r\n        {\r\n      title: \"Пост\",\r\n      description: \"Нажмите на название поста и перейдите к этому посту\",\r\n      target: () => document.querySelector('[data-tour=\"data-postItem\"]'),\r\n    },\r\n  ];\r\n\r\n  const handleChangeFirstName = (e) => {\r\n    const inputValue = e;\r\n    const lettersOnly = inputValue.replace(/[^A-Za-zА-Яа-я\\s]/g, \"\");\r\n\r\n    const formattedValue =\r\n      lettersOnly.charAt(0).toUpperCase() + lettersOnly.slice(1);\r\n\r\n    setFirstName(formattedValue);\r\n  };\r\n\r\n  const handleChangeLastName = (e) => {\r\n    const inputValue = e;\r\n    const lettersOnly = inputValue.replace(/[^A-Za-zА-Яа-я\\s]/g, \"\");\r\n\r\n    const formattedValue =\r\n      lettersOnly.charAt(0).toUpperCase() + lettersOnly.slice(1);\r\n\r\n    setLastName(formattedValue);\r\n  };\r\n\r\n  const handleChangeMiddleName = (e) => {\r\n    const inputValue = e;\r\n    const lettersOnly = inputValue.replace(/[^A-Za-zА-Яа-я\\s]/g, \"\");\r\n\r\n    const formattedValue =\r\n      lettersOnly.charAt(0).toUpperCase() + lettersOnly.slice(1);\r\n    console.log(formattedValue);\r\n    setMiddleName(formattedValue);\r\n  };\r\n\r\n  const handleChangeTelephoneNumber = (e) => {\r\n    const cleanedPhone = e.target.value.replace(/\\D/g, \"\");\r\n    setTelephoneNumber(`+${cleanedPhone}`);\r\n  };\r\n\r\n  // Создание аккаунта\r\n  const {\r\n    // Создать user\r\n    reduxSelectedOrganizationId,\r\n    postUser,\r\n\r\n    isLoadingUserMutation,\r\n    isSuccessUserMutation,\r\n    isErrorUserMutation,\r\n    ErrorUserMutation,\r\n\r\n    localIsResponseUserMutation,\r\n\r\n    // Получит информацию для создания user\r\n    postsWithoutUser,\r\n    isLoadingGetUserNew,\r\n    isErrorGetUserNew,\r\n\r\n    userInfo,\r\n\r\n    updateUser,\r\n  } = useUserHook();\r\n\r\n  // Для картинки\r\n  const [postImage] = usePostImageMutation();\r\n\r\n  const handleUpdateUserButtonClick = async () => {\r\n    const Data = {};\r\n\r\n    if (firstName !== userInfo?.firstName) Data.firstName = firstName;\r\n\r\n    if (lastName !== userInfo?.lastName) Data.lastName = lastName;\r\n\r\n    if (middleName !== userInfo?.middleName) Data.middleName = middleName;\r\n\r\n    if (telephoneNumber !== userInfo?.telephoneNumber)\r\n      Data.telephoneNumber = telephoneNumber;\r\n\r\n    if (file) {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n      try {\r\n        const result = await postImage(formData).unwrap();\r\n        Data.avatar_url = result.filePath;\r\n      } catch (error) {\r\n        console.error(\r\n          \"Ошибка загрузки изображения:\",\r\n          JSON.stringify(error, null, 2)\r\n        );\r\n        throw error;\r\n      }\r\n    }\r\n\r\n    if (!notEmpty(Data)) return;\r\n\r\n    await updateUser({\r\n      ...Data,\r\n    })\r\n      .unwrap()\r\n      .then(() => {})\r\n      .catch((error) => {\r\n        console.error(\"Ошибка:\", JSON.stringify(error, null, 2));\r\n      });\r\n  };\r\n\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleAvatarClick = () => {\r\n    fileInputRef.current.click();\r\n  };\r\n\r\n  //Загрузка картинки локально\r\n  const imageUploadHandlerLocal = (e) => {\r\n    const fileInput = e.target;\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setFile(file);\r\n      const imageUrl = URL.createObjectURL(file);\r\n      setAvatarLocal(imageUrl);\r\n    }\r\n    // Сбрасываем значение инпута, чтобы можно было выбрать тот же файл\r\n    fileInput.value = \"\";\r\n  };\r\n\r\n  const deleteImage = () => {\r\n    if (avatarLocal) {\r\n      URL.revokeObjectURL(avatarLocal); // Очищаем URL из памяти\r\n    }\r\n    setFile(\"\");\r\n    setAvatarLocal(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (firstName && lastName && middleName && telephoneNumber.length == 12) {\r\n      setIsValid(true);\r\n    } else {\r\n      setIsValid(false);\r\n    }\r\n  }, [firstName, lastName, middleName, telephoneNumber]);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  console.log(userInfo);\r\n\r\n  useEffect(() => {\r\n    if (!notEmpty(userInfo)) return;\r\n\r\n    setFirstName(userInfo?.firstName);\r\n    setLastName(userInfo?.lastName);\r\n    setMiddleName(userInfo?.middleName);\r\n    setTelephoneNumber(userInfo?.telephoneNumber);\r\n    setAvatarLocal(userInfo.avatar_url ? baseUrl + userInfo?.avatar_url : \"\");\r\n  }, [userInfo]);\r\n\r\n  const buttonClickToPost = (id) => {\r\n    navigate(`/pomoshnik/post/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.dialog}>\r\n      <Headers\r\n        name={\"редактирование пользователя\"}\r\n        funcActiveHint={() => setOpenHint(true)}\r\n      >\r\n        <BottomHeaders\r\n          update={handleUpdateUserButtonClick}\r\n          refUpdate={refUpdate}\r\n        ></BottomHeaders>\r\n      </Headers>\r\n\r\n      <ConfigProvider locale={ruRU}>\r\n        <Tour\r\n          open={openHint}\r\n          onClose={() => setOpenHint(false)}\r\n          steps={steps}\r\n        />\r\n      </ConfigProvider>\r\n\r\n      <div className={classes.main}>\r\n        <div className={classes.wrapper}>\r\n          <div className={classes.block}>\r\n            <div className={classes.avatarContainer} data-tour=\"data-avatar\">\r\n              <img\r\n                src={avatarLocal || addCircle}\r\n                alt=\"avatar\"\r\n                className={classes.avatar}\r\n                onClick={handleAvatarClick}\r\n              />\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                ref={fileInputRef}\r\n                className={classes.hiddenInput}\r\n                onChange={imageUploadHandlerLocal}\r\n              />\r\n              <img\r\n                src={exitHeader}\r\n                alt=\"удалить картинку\"\r\n                title={\"удалить картинку\"}\r\n                onClick={deleteImage}\r\n                style={{ width: \"12px\", height: \"12px\" }}\r\n              ></img>\r\n            </div>\r\n\r\n            <div className={classes.column2} data-tour=\"data-form\">\r\n              <Input\r\n                name={\"Имя\"}\r\n                value={firstName}\r\n                onChange={handleChangeFirstName}\r\n              ></Input>\r\n\r\n              <Input\r\n                name={\"Фамилия\"}\r\n                value={lastName}\r\n                onChange={handleChangeLastName}\r\n              ></Input>\r\n\r\n              <Input\r\n                name={\"Отчество\"}\r\n                value={middleName}\r\n                onChange={handleChangeMiddleName}\r\n              ></Input>\r\n\r\n              <Input name={\"Телефон\"} isShowInput={true}>\r\n                <InputMask\r\n                  mask=\"+9 (999) 999-99-99\"\r\n                  value={telephoneNumber}\r\n                  onChange={handleChangeTelephoneNumber}\r\n                  placeholder=\"+9 (999) 999-99-99\"\r\n                  required\r\n                >\r\n                  {(inputProps) => (\r\n                    <input {...inputProps} type=\"tel\" id=\"phone\" />\r\n                  )}\r\n                </InputMask>\r\n              </Input>\r\n            </div>\r\n          </div>\r\n\r\n          <List\r\n            data-tour=\"data-post\"\r\n            style={{ alignSelf: \"flex-start\", width: \"100%\" }}\r\n            header={<div>Закрепленные посты</div>}\r\n            bordered\r\n            dataSource={userInfo?.posts}\r\n            renderItem={(item) => (\r\n              <List.Item>\r\n                <List.Item.Meta\r\n                  avatar={\r\n                    <svg\r\n                      width=\"20.000000\"\r\n                      height=\"20.000000\"\r\n                      viewBox=\"0 0 20 20\"\r\n                      fill=\"none\"\r\n                    >\r\n                      <desc>Created with Pixso.</desc>\r\n                      <defs />\r\n                      <path\r\n                        id=\"Vector\"\r\n                        d=\"M5 20C4.46 20 3.96 19.78 3.58 19.41C3.21 19.03 3 18.53 3 18L3 8C3 7.46 3.21 6.96 3.58 6.58C3.96 6.21 4.46 6 5 6L9 6L9 4L8 4C7.73 4 7.48 3.89 7.29 3.7C7.1 3.51 7 3.26 7 3L0 3L0 1L7 1C7 0.73 7.1 0.48 7.29 0.29C7.48 0.1 7.73 0 8 0L12 0C12.26 0 12.51 0.1 12.7 0.29C12.89 0.48 13 0.73 13 1L20 1L20 3L13 3C13 3.26 12.89 3.51 12.7 3.7C12.51 3.89 12.26 4 12 4L11 4L11 6L15 6C16.11 6 17 6.9 17 8L17 18C17 18.53 16.78 19.03 16.41 19.41C16.03 19.78 15.53 20 15 20L5 20ZM10 12.28C11.18 12.28 12.13 11.32 12.13 10.14C12.13 8.95 11.18 8 10 8C8.81 8 7.85 8.95 7.85 10.14C7.85 11.32 8.81 12.28 10 12.28ZM5 16.21C5 14.55 8.33 13.71 10 13.71C11.66 13.71 15 14.55 15 16.21L15 17.28C15 17.67 14.67 18 14.28 18L5.71 18C5.32 18 5 17.67 5 17.28L5 16.21Z\"\r\n                        fill=\"#005475\"\r\n                        fill-opacity=\"0.901961\"\r\n                        fill-rule=\"evenodd\"\r\n                      />\r\n                    </svg>\r\n                  }\r\n                  title={\r\n                    <Button\r\n                    data-tour=\"data-postItem\"\r\n                      style={{ padding: 0 }}\r\n                      color=\"default\"\r\n                      variant=\"link\"\r\n                      onClick={() => buttonClickToPost(item.id)}\r\n                    >\r\n                      {item.postName}\r\n                    </Button>\r\n                  }\r\n                  description={<div>{item.divisionName}</div>}\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </div>\r\n\r\n        {/* <FloatButton\r\n          icon={<SaveOutlined />}\r\n          type=\"primary\"\r\n          tooltip=\"Сохранить изменения\"\r\n          onClick={handleUpdateUserButtonClick}\r\n          style={{\r\n            insetInlineEnd: 94,\r\n          }}\r\n        /> */}\r\n\r\n        <HandlerMutation\r\n          Loading={isLoadingUserMutation}\r\n          Error={isErrorUserMutation && localIsResponseUserMutation}\r\n          Success={isSuccessUserMutation && localIsResponseUserMutation}\r\n          textSuccess={`Пользователь ${firstName} ${lastName} ${middleName} создан`}\r\n          textError={\r\n            ErrorUserMutation?.data?.errors?.[0]?.errors?.[0]\r\n              ? ErrorUserMutation.data.errors[0].errors[0]\r\n              : ErrorUserMutation?.data?.message\r\n          }\r\n        ></HandlerMutation>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ButtonAction","_ref","create","update","refUpdate","refCreate","_jsxs","className","classes","wrapper","children","_jsx","ButtonImage","refAction","name","icon","iconAdd","onClick","Blacksavetmp","BottomHeaders","editText","SettingsPage","_ErrorUserMutation$da","_ErrorUserMutation$da2","_ErrorUserMutation$da3","_ErrorUserMutation$da4","_ErrorUserMutation$da5","firstName","setFirstName","useState","lastName","setLastName","middleName","setMiddleName","telephoneNumber","setTelephoneNumber","isValid","setIsValid","avatarLocal","setAvatarLocal","file","setFile","useRef","openHint","setOpenHint","steps","title","description","target","current","document","querySelector","reduxSelectedOrganizationId","postUser","isLoadingUserMutation","isSuccessUserMutation","isErrorUserMutation","ErrorUserMutation","localIsResponseUserMutation","postsWithoutUser","isLoadingGetUserNew","isErrorGetUserNew","userInfo","updateUser","useUserHook","postImage","usePostImageMutation","fileInputRef","useEffect","length","navigate","useNavigate","console","log","notEmpty","avatar_url","baseUrl","dialog","Headers","funcActiveHint","async","Data","formData","FormData","append","result","unwrap","filePath","error","JSON","stringify","_objectSpread","then","catch","ConfigProvider","locale","ruRU","Tour","open","onClose","main","block","avatarContainer","src","addCircle","alt","avatar","handleAvatarClick","click","type","accept","ref","hiddenInput","onChange","e","fileInput","files","imageUrl","URL","createObjectURL","value","exitHeader","deleteImage","revokeObjectURL","style","width","height","column2","Input","lettersOnly","replace","formattedValue","charAt","toUpperCase","slice","isShowInput","InputMask","mask","cleanedPhone","concat","placeholder","required","inputProps","id","List","alignSelf","header","bordered","dataSource","posts","renderItem","item","Item","Meta","viewBox","fill","d","Button","padding","color","variant","buttonClickToPost","postName","divisionName","HandlerMutation","Loading","Error","Success","textSuccess","textError","data","errors","message"],"sourceRoot":""}