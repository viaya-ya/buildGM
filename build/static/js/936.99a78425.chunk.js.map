{"version":3,"file":"static/js/936.99a78425.chunk.js","mappings":"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","sources":["webpack://good_management/./src/UI/Custom/Headers/BottomHeaders/BottomHeaders.module.css?e3ba","webpack://good_management/./src/UI/Custom/Headers/BottomHeaders/ButtonAction/ButtonAction.module.css?2769","UI/Custom/Headers/BottomHeaders/ButtonAction/ButtonAction.jsx","UI/Custom/Headers/BottomHeaders/BottomHeaders.jsx","webpack://good_management/./src/UI/Custom/TextArea/TextArea.module.css?c32b","UI/Custom/TextArea/TextArea.jsx","webpack://good_management/./src/UI/app/GoalPage/Goal.module.css?48de","UI/image/drag.svg","UI/image/delete.svg","UI/app/GoalPage/Goal.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"editText\":\"BottomHeaders_editText__6e9Ca\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ButtonAction_wrapper__YWbBU\"};","import React from \"react\";\r\nimport classes from \"./ButtonAction.module.css\";\r\nimport iconAdd from \"../../../../image/iconAdd.svg\";\r\nimport Blacksavetmp from \"../../../../image/Blacksavetmp.svg\";\r\nimport ButtonImage from \"@Custom/buttonImage/ButtonImage\";\r\nexport default function ButtonAction({ create, update, refUpdate, refCreate }) {\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      {create && (\r\n        <ButtonImage\r\n          refAction={refCreate}\r\n          name={\"создать\"}\r\n          icon={iconAdd}\r\n          onClick={create}\r\n        ></ButtonImage>\r\n      )}\r\n\r\n      {update && (\r\n        <ButtonImage\r\n          refAction={refUpdate}\r\n          name={\"обновить\"}\r\n          icon={Blacksavetmp}\r\n          onClick={update}\r\n        ></ButtonImage>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport classes from \"./BottomHeaders.module.css\"\r\nimport ButtonAction from './ButtonAction/ButtonAction'\r\n\r\nexport default function BottomHeaders({children, create, update,  refUpdate, refCreate}) {\r\n  return (\r\n    <div className={classes.editText}>\r\n        {children}\r\n        <ButtonAction create={create} update={update} refUpdate={refUpdate} refCreate={refCreate}></ButtonAction>\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"textArea\":\"TextArea_textArea__dawEa\",\"textColor\":\"TextArea_textColor__qu0hR\"};","import React from \"react\";\r\nimport classes from \"./TextArea.module.css\";\r\n\r\nexport default function TextArea({ value, onChange, readOnly }) {\r\n  return (\r\n    <textarea\r\n      className={`${classes.textArea} ${readOnly ? classes.textColor : \"\"}`}\r\n      value={value}\r\n      onChange={(e) => onChange(e.target.value)}\r\n      disabled={readOnly}\r\n    ></textarea>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dialog\":\"Goal_dialog__6T5Zq\",\"pomoshnik\":\"Goal_pomoshnik__nPLze\",\"iconBack\":\"Goal_iconBack__0vbkY\",\"search\":\"Goal_search__6H3H6\",\"spanPomoshnik\":\"Goal_spanPomoshnik__fWtt2\",\"one\":\"Goal_one__TP+-k\",\"two\":\"Goal_two__EzEW-\",\"three\":\"Goal_three__P509y\",\"five\":\"Goal_five__V7CC4\",\"seven\":\"Goal_seven__KSEyd\",\"sixth\":\"Goal_sixth__V2NHE\",\"iconAdd\":\"Goal_iconAdd__iBFoA\",\"iconSave\":\"Goal_iconSave__vpJxM\",\"iconPrint\":\"Goal_iconPrint__S3TJj\",\"image\":\"Goal_image__qdsTd\",\"blockSelect\":\"Goal_blockSelect__Gompo\",\"option\":\"Goal_option__OFGvm\",\"four\":\"Goal_four__6W1Qk\",\"main\":\"Goal_main__jN+Ba\",\"editorContainer\":\"Goal_editorContainer__V6-xQ\",\"deleteIcon\":\"Goal_deleteIcon__Poonn\",\"add\":\"Goal_add__6-qwo\",\"nameButton\":\"Goal_nameButton__MbChn\",\"highlight\":\"Goal_highlight__Rr5NZ\",\"selectImage\":\"Goal_selectImage__Ql+b+\",\"select\":\"Goal_select__50Kql\"};","var _g, _g2;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgDrag(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    height: 24,\n    width: 24\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20,9H4v2h16V9z M4,15h16v-2H4V15z\"\n  }))))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDrag);\nexport default __webpack_public_path__ + \"static/media/drag.a3c69099094630ca6a8f439730092be5.svg\";\nexport { ForwardRef as ReactComponent };","var _desc, _defs, _rect, _g;\nconst _excluded = [\"title\", \"titleId\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from \"react\";\nfunction SvgDelete(_ref, svgRef) {\n  let {\n      title,\n      titleId\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 33.941101,\n    height: 33.941162,\n    viewBox: \"0 0 33.9411 33.9412\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"\\r\\n\\t\\t\\tCreated with Pixso.\\r\\n\\t\")), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip3_1269\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"icon / add\",\n    width: 24,\n    height: 24,\n    transform: \"translate(0.000000 16.970581) rotate(-45.000000)\",\n    fill: \"white\",\n    fillOpacity: 0\n  })))), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"icon / add\",\n    width: 24,\n    height: 24,\n    transform: \"translate(0.000000 16.970581) rotate(-45.000000)\",\n    fill: \"#FFFFFF\",\n    fillOpacity: 0\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip3_1269)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle 190\",\n    x: 9.545959,\n    y: 11.667358,\n    rx: 1.5,\n    width: 3,\n    height: 18,\n    transform: \"rotate(-45 9.545959 11.667358)\",\n    fill: \"#3A3A3A\",\n    fillOpacity: 1\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle 191\",\n    x: 11.667236,\n    y: 24.395142,\n    rx: 1.5,\n    width: 3,\n    height: 18,\n    transform: \"rotate(-135 11.667236 24.395142)\",\n    fill: \"#3A3A3A\",\n    fillOpacity: 1\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.538f360ca433be0382c8ed66f1d3368e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useRef } from \"react\";\r\nimport classes from \"./Goal.module.css\";\r\nimport drag from \"@image/drag.svg\";\r\nimport deleteImage from \"@image/delete.svg\";\r\nimport HandlerMutation from \"@Custom/HandlerMutation.jsx\";\r\nimport HandlerQeury from \"@Custom/HandlerQeury.jsx\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport TextArea from \"@Custom/TextArea/TextArea.jsx\";\r\nimport Headers from \"@Custom/Headers/Headers\";\r\nimport BottomHeaders from \"@Custom/Headers/BottomHeaders/BottomHeaders\";\r\nimport { useGoalHook } from \"@hooks\";\r\n\r\nimport { ConfigProvider, Tour, Button } from \"antd\";\r\nimport ruRU from \"antd/locale/ru_RU\";\r\n\r\nexport default function Goal() {\r\n  const [editorState, setEditorState] = useState([]);\r\n\r\n  const ref1 = useRef(null);\r\n  const ref2 = useRef(null);\r\n  const ref3 = useRef(null);\r\n  const refUpdate = useRef(null);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const steps = [\r\n    {\r\n      title: \"Сохранить\",\r\n      description: \"Нажмите для сохранения\",\r\n      target: () => refUpdate.current,\r\n    },\r\n    {\r\n      title: \"Изменить порядок\",\r\n      description: \"Нажмите и перетащите часть цели\",\r\n      target: () => (editorState.length > 0 ? ref1.current : null),\r\n      disabled: !editorState.length,\r\n    },\r\n    {\r\n      title: \"Удалить\",\r\n      description: \"Удалите чась цели\",\r\n      target: () => (editorState.length > 0 ? ref2.current : null),\r\n      disabled: !editorState.length,\r\n    },\r\n    {\r\n      title: \"Добавить\",\r\n      description: \"Добавьте новую часть цели\",\r\n      target: () => ref3.current,\r\n    },\r\n  ].filter((step) => !step.disabled);\r\n\r\n  const {\r\n    reduxSelectedOrganizationId,\r\n\r\n    currentGoal,\r\n    isErrorGetGoal,\r\n    isLoadingGetGoal,\r\n    isFetchingGetGoal,\r\n\r\n    updateGoal,\r\n    isLoadingUpdateGoalMutation,\r\n    isSuccessUpdateGoalMutation,\r\n    isErrorUpdateGoalMutation,\r\n    ErrorUpdateGoalMutation,\r\n    localIsResponseUpdateGoalMutation,\r\n\r\n    postGoal,\r\n    isLoadingPostGoalMutation,\r\n    isSuccessPostGoalMutation,\r\n    isErrorPostGoalMutation,\r\n    ErrorPostGoalMutation,\r\n    localIsResponsePostGoalMutation,\r\n  } = useGoalHook();\r\n\r\n  const saveGoal = async () => {\r\n    await postGoal({\r\n      content: [\"\"],\r\n      organizationId: reduxSelectedOrganizationId,\r\n    })\r\n      .unwrap()\r\n      .then()\r\n      .catch((error) => {\r\n        console.error(\"Ошибка:\", JSON.stringify(error, null, 2));\r\n      });\r\n  };\r\n\r\n  const saveUpdateGoal = async () => {\r\n    await updateGoal({\r\n      _id: currentGoal.id,\r\n      content: editorState,\r\n    })\r\n      .unwrap()\r\n      .then(() => {})\r\n      .catch((error) => {\r\n        console.error(\"Ошибка:\", JSON.stringify(error, null, 2)); // выводим детализированную ошибку\r\n      });\r\n  };\r\n\r\n  const addEditor = () => {\r\n    if (Object.keys(currentGoal).length > 0) {\r\n      setEditorState((prevEditors) => [...prevEditors, [\"\"]]);\r\n    } else {\r\n      saveGoal();\r\n    }\r\n  };\r\n\r\n  const deleteEditor = (index) => {\r\n    setEditorState((prevEditors) => {\r\n      const updated = [...prevEditors];\r\n      updated.splice(index, 1);\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const onDragEnd = (result) => {\r\n    const { source, destination } = result;\r\n\r\n    if (!destination) {\r\n      return;\r\n    }\r\n\r\n    // Создаем новый массив состояний\r\n    const updatedState = Array.from(editorState);\r\n\r\n    // Перемещаем редактор\r\n    const [movedItem] = updatedState.splice(source.index, 1);\r\n    updatedState.splice(destination.index, 0, movedItem);\r\n\r\n    setEditorState(updatedState);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentGoal.id) {\r\n      setEditorState(currentGoal.content);\r\n    }\r\n  }, [currentGoal]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyPress = (event) => {\r\n      if (event.key === \"Enter\" && event.ctrlKey) {\r\n        addEditor();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyPress);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyPress);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.dialog}>\r\n      <Headers name={\"цели\"} funcActiveHint={() => setOpen(true)}>\r\n        <BottomHeaders\r\n          update={saveUpdateGoal}\r\n          refUpdate={refUpdate}\r\n        ></BottomHeaders>\r\n      </Headers>\r\n\r\n      <div className={classes.main}>\r\n        <ConfigProvider locale={ruRU}>\r\n          <Tour open={open} onClose={() => setOpen(false)} steps={steps} />\r\n        </ConfigProvider>\r\n\r\n        {isErrorGetGoal ? (\r\n          <>\r\n            <HandlerQeury Error={isErrorGetGoal}></HandlerQeury>\r\n          </>\r\n        ) : (\r\n          <>\r\n\r\n            <HandlerQeury\r\n              Loading={isLoadingGetGoal}\r\n              Fetching={isFetchingGetGoal}\r\n            ></HandlerQeury>\r\n\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n              <Droppable droppableId=\"editorList\">\r\n                {(provided) => (\r\n                  <div\r\n                    {...provided.droppableProps}\r\n                    ref={provided.innerRef}\r\n                    className={classes.droppableContainer}\r\n                  >\r\n                    {editorState.map((item, index) => (\r\n                      <Draggable\r\n                        key={index}\r\n                        draggableId={`item-${index}`}\r\n                        index={index}\r\n                      >\r\n                        {(provided) => (\r\n                          <div\r\n                            ref={provided.innerRef}\r\n                            {...provided.draggableProps}\r\n                            className={classes.editorContainer}\r\n                          >\r\n                            <div\r\n                              {...provided.dragHandleProps}\r\n                              className={classes.dragHandle}\r\n                            >\r\n                              <img ref={ref1} src={drag} alt=\"drag\" />\r\n                            </div>\r\n\r\n                            <TextArea\r\n                              key={index}\r\n                              value={item}\r\n                              onChange={(newState) => {\r\n                                const updatedState = [...editorState];\r\n                                updatedState[index] = newState;\r\n                                setEditorState(updatedState);\r\n                              }}\r\n                            ></TextArea>\r\n\r\n                            <img\r\n                              ref={ref2}\r\n                              src={deleteImage}\r\n                              alt=\"deleteImage\"\r\n                              className={classes.deleteIcon}\r\n                              onClick={() => deleteEditor(index)}\r\n                            />\r\n                          </div>\r\n                        )}\r\n                      </Draggable>\r\n                    ))}\r\n                    {provided.placeholder}\r\n                  </div>\r\n                )}\r\n              </Droppable>\r\n            </DragDropContext>\r\n\r\n            <button\r\n              ref={ref3}\r\n              className={classes.add}\r\n              onClick={() => addEditor()}\r\n            >\r\n              <svg\r\n                width=\"19.998047\"\r\n                height=\"20.000000\"\r\n                viewBox=\"0 0 19.998 20\"\r\n                fill=\"none\"\r\n              >\r\n                <defs />\r\n                <path\r\n                  id=\"Vector\"\r\n                  d=\"M10 20C4.47 19.99 0 15.52 0 10L0 9.8C0.1 4.3 4.63 -0.08 10.13 0C15.62 0.07 20.03 4.56 19.99 10.06C19.96 15.56 15.49 19.99 10 20ZM5 9L5 11L9 11L9 15L11 15L11 11L15 11L15 9L11 9L11 5L9 5L9 9L5 9Z\"\r\n                  fill=\"#B4B4B4\"\r\n                  fill-opacity=\"1.000000\"\r\n                  fill-rule=\"nonzero\"\r\n                />\r\n              </svg>\r\n\r\n              <div>\r\n                <span className={classes.nameButton}>\r\n                  Добавить еще одну часть цели (Ctrl+Enter)\r\n                </span>\r\n              </div>\r\n            </button>\r\n\r\n            <HandlerMutation\r\n              Loading={isLoadingUpdateGoalMutation}\r\n              Error={\r\n                isErrorUpdateGoalMutation && localIsResponseUpdateGoalMutation\r\n              }\r\n              Success={\r\n                isSuccessUpdateGoalMutation && localIsResponseUpdateGoalMutation\r\n              }\r\n              textSuccess={\"Цель обновлена\"}\r\n              textError={\r\n                ErrorUpdateGoalMutation?.data?.errors?.[0]?.errors?.[0]\r\n                  ? ErrorUpdateGoalMutation.data.errors[0].errors[0]\r\n                  : ErrorUpdateGoalMutation?.data?.message\r\n              }\r\n            ></HandlerMutation>\r\n\r\n            <HandlerMutation\r\n              Loading={isLoadingPostGoalMutation}\r\n              Error={isErrorPostGoalMutation && localIsResponsePostGoalMutation}\r\n              Success={\r\n                isSuccessPostGoalMutation && localIsResponsePostGoalMutation\r\n              }\r\n              textSuccess={\"Цель создана\"}\r\n              textError={\r\n                ErrorPostGoalMutation?.data?.errors?.[0]?.errors?.[0]\r\n                  ? ErrorPostGoalMutation.data.errors[0].errors[0]\r\n                  : ErrorPostGoalMutation?.data?.message\r\n              }\r\n            ></HandlerMutation>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ButtonAction","_ref","create","update","refUpdate","refCreate","_jsxs","className","classes","wrapper","children","_jsx","ButtonImage","refAction","name","icon","iconAdd","onClick","Blacksavetmp","BottomHeaders","editText","TextArea","value","onChange","readOnly","concat","textArea","textColor","e","target","disabled","Goal","_ErrorUpdateGoalMutat","_ErrorUpdateGoalMutat2","_ErrorUpdateGoalMutat3","_ErrorUpdateGoalMutat4","_ErrorUpdateGoalMutat5","_ErrorPostGoalMutatio","_ErrorPostGoalMutatio2","_ErrorPostGoalMutatio3","_ErrorPostGoalMutatio4","_ErrorPostGoalMutatio5","editorState","setEditorState","useState","ref1","useRef","ref2","ref3","open","setOpen","steps","title","description","current","length","filter","step","reduxSelectedOrganizationId","currentGoal","isErrorGetGoal","isLoadingGetGoal","isFetchingGetGoal","updateGoal","isLoadingUpdateGoalMutation","isSuccessUpdateGoalMutation","isErrorUpdateGoalMutation","ErrorUpdateGoalMutation","localIsResponseUpdateGoalMutation","postGoal","isLoadingPostGoalMutation","isSuccessPostGoalMutation","isErrorPostGoalMutation","ErrorPostGoalMutation","localIsResponsePostGoalMutation","useGoalHook","addEditor","Object","keys","prevEditors","async","content","organizationId","unwrap","then","catch","error","console","JSON","stringify","saveGoal","useEffect","id","handleKeyPress","event","key","ctrlKey","window","addEventListener","removeEventListener","dialog","Headers","funcActiveHint","_id","main","ConfigProvider","locale","ruRU","Tour","onClose","_Fragment","HandlerQeury","Error","Loading","Fetching","DragDropContext","onDragEnd","result","source","destination","updatedState","Array","from","movedItem","splice","index","Droppable","droppableId","provided","_objectSpread","droppableProps","ref","innerRef","droppableContainer","map","item","Draggable","draggableId","draggableProps","editorContainer","dragHandleProps","dragHandle","src","drag","alt","newState","deleteImage","deleteIcon","updated","deleteEditor","placeholder","add","width","height","viewBox","fill","d","nameButton","HandlerMutation","Success","textSuccess","textError","data","errors","message"],"sourceRoot":""}