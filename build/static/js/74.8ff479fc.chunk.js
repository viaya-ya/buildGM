"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[74],{5074:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});r(5043);var a=r(2638),s=r(4825),o=r(3361),i=r(8916),d=r(579);const n=(0,o.rU)((e=>{let{css:t,token:r}=e;const{antCls:a}=r;return{customTable:t`
      ${a}-table {
        ${a}-table-container {
          ${a}-table-body,
          ${a}-table-content {
            scrollbar-width: thin;
            scrollbar-color: #eaeaea transparent;
            scrollbar-gutter: stable;
          }
        }
      }
    `}}));function c(e){let{expandedRowKeys:t,setExpandedRowKeys:r,form:o,targetStateOnProduct:c,setTargetStateOnProduct:l,selectedProjectId:p,disabledTable:u,tables:j,setTables:g,isLoadingGetProjectId:P,isFetchingGetProjectId:b,targets:m,posts:h,setDescriptionProduct:x,descriptionProduct:y}=e;const{styles:I}=n(),{groupColumns:v,dataWithGroups:w,expandableConfig:A}=(0,i.A)({expandedRowKeys:t,setExpandedRowKeys:r,form:o,targetStateOnProduct:c,setTargetStateOnProduct:l,selectedProjectId:p,disabledTable:u,tables:j,setTables:g,isLoadingGetProjectId:P,isFetchingGetProjectId:b,targets:m,posts:h,setDescriptionProduct:x,descriptionProduct:y,stylesColumnSelect:{style:{width:"100%"},placement:"topLeft"},stylesColumnDate:{style:{width:"100%"}}});return(0,d.jsx)(a.A,{form:o,disabled:u,children:(0,d.jsx)(s.A,{bordered:!0,className:I.customTable,loading:P||b,columns:v,dataSource:w,rowKey:"key",pagination:!1,scroll:{x:"max-content",y:"calc(100vh - 320px)"},style:{width:"100%"},expandable:A})})}var l=r(8677),p=r(6597),u=r(2524),j=r(4434),g=r(898),P=r(5206),b=r(8738),m=r(8057);function h(e){var t;let{currentProject:r,isLoadingGetProjectId:s,open:o,setOpen:i,disabled:n,programId:c}=e;const{form:h,isSaving:x,setIsSaving:y,strategies:I,isLoadingGetNew:v,currentProgram:w,isLoadingGetProgramId:A,isErrorGetProgramId:G,isFetchingGetProgramId:S,updateProject:T,isLoadingUpdateProjectMutation:C,isSuccessUpdateProjectMutation:f,isErrorUpdateProjectMutation:L,ErrorUpdateProjectMutation:O,localIsResponseUpdateProjectMutation:E,handlePostValuesChange:M,handleSave:R,handleReset:U}=(0,m.A)({currentProject:r,isLoadingGetProjectId:s,open:o,setOpen:i,disabled:n,programId:c});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(l.A,{closable:!0,destroyOnClose2:!0,title:(0,d.jsx)("div",{style:{whiteSpace:"nowrap"},children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),placement:"right",open:o,loading:s||v,onClose:()=>{i(!1),U()},width:b.Fr?300:350,children:(0,d.jsxs)(p.A,{vertical:!0,style:{height:"100%"},children:[(0,d.jsxs)(a.A,{disabled:n,form:h,onValuesChange:M,layout:"vertical",style:{flexGrow:1},children:[(0,d.jsx)(a.A.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",name:"projectName",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"}],children:(0,d.jsx)(u.A,{})}),c?(0,d.jsx)(a.A.Item,{label:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",children:(0,d.jsx)(u.A,{disabled:!0,value:null===w||void 0===w?void 0:w.projectName})}):null,c?(0,d.jsx)(a.A.Item,{label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",children:(0,d.jsx)(j.A,{disabled:!0,value:null===w||void 0===w||null===(t=w.strategy)||void 0===t?void 0:t.id,options:I.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})}):(0,d.jsx)(a.A.Item,{label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",name:"strategyId",children:(0,d.jsx)(j.A,{allowClear:!0,showSearch:!0,optionFilterProp:"label",filterOption:(e,t)=>null===t||void 0===t?void 0:t.label.toLowerCase().includes(e.toLowerCase()),options:I.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})})]}),(0,d.jsxs)(g.A,{style:{marginTop:"auto"},children:[(0,d.jsx)(P.Ay,{type:"primary",onClick:R,loading:x,disabled:n,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,d.jsx)(P.Ay,{onClick:U,disabled:n,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})})})}var x=r(5337),y=r(8143),I=r(8918),v=r(6651),w=(r(3536),r(8824));function A(e){let{activeTabTypes:t,disabledTable:r}=e;const{onChangeTab:a,addProject:s,updateSingleProject:o,selectedProjectId:i,setSelectedProjectId:n,descriptionProduct:l,setDescriptionProduct:u,form:j,isSaving:g,setIsSaving:b,tables:m,setTables:A,expandedRowKeys:G,setExpandedRowKeys:S,items:T,setItems:C,activeTab:f,setActiveTab:L,openDrawer:O,setOpenDrawer:E,projects:M,archivesProjects:R,projectsWithProgram:U,archivesProjectsWithProgram:k,isErrorGetProject:K,isLoadingGetProject:F,currentProject:N,targets:D,isLoadingGetProjectId:W,isErrorGetProjectId:$,isFetchingGetProjectId:z,posts:V,programs:_,isLoadingGetNew:q,isErrorGetNew:B,reduxSelectedOrganizationId:H,createProject:J,isLoadingProjectMutation:Q,updateProject:X,isLoadingUpdateProjectMutation:Y,isSuccessUpdateProjectMutation:Z,isErrorUpdateProjectMutation:ee,ErrorUpdateProjectMutation:te,localIsResponseUpdateProjectMutation:re,targetStateOnProduct:ae,setTargetStateOnProduct:se}=(0,w.A)({activeTabTypes:t});return(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsxs)(p.A,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,d.jsx)(I.A,{style:{width:"calc(100% - 40px)"},type:"projects"===t?"editable-card":"card",activeKey:f,items:T,onChange:a,addIcon:(0,d.jsx)(v.A,{placement:"bottom",title:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442",children:(0,d.jsx)(P.Ay,{"data-tour":"create-button",onClick:s,size:"small",type:"text",icon:(0,d.jsx)(x.A,{})})})}),(0,d.jsx)(v.A,{placement:"bottom",title:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:(0,d.jsx)(P.Ay,{"data-tour":"save-button",type:"primary",style:{width:"40px",marginBottom:"15px"},icon:(0,d.jsx)(y.A,{}),onClick:o,loading:g})})]}),i&&(0,d.jsx)(h,{currentProject:N,isLoadingGetProjectId:W,open:O,setOpen:E,disabled:"archivesProjects"===t||"archivesProjectsWithProgram"===t,programId:N.programId}),(0,d.jsx)(c,{expandedRowKeys:G,setExpandedRowKeys:S,form:j,selectedProjectId:i,disabledTable:r,tables:m,setTables:A,isLoadingGetProjectId:W,isFetchingGetProjectId:z,targets:D,targetStateOnProduct:ae,setTargetStateOnProduct:se,posts:V,setDescriptionProduct:u,descriptionProduct:l})]})}}}]);
//# sourceMappingURL=74.8ff479fc.chunk.js.map