"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[101],{4101:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});r(5043);var s,a=r(7528),o=r(2638),n=r(7598),l=r(7264),i=r(8753),d=r(579);const c=(0,l.rU)((e=>{let{css:t,token:r}=e;const{antCls:o}=r;return{customTable:t(s||(s=(0,a.A)(["\n      ","-table {\n        ","-table-container {\n          ","-table-body,\n          ","-table-content {\n            scrollbar-width: thin;\n            scrollbar-color: #eaeaea transparent;\n            scrollbar-gutter: stable;\n          }\n        }\n      }\n    "])),o,o,o,o)}}));function p(e){let{expandedRowKeys:t,setExpandedRowKeys:r,form:s,selectedProgramId:a,targetStateOnProduct:l,setTargetStateOnProduct:p,disabledTable:g,tables:m,setTables:u,isLoadingGetProjectId:P,isFetchingGetProjectId:j,targets:b,currentProjects:h,posts:y,projects:x,selectedProjectIds:w,setSelectedProjectIds:I,setDescriptionProgram:S,descriptionProgram:v}=e;const{styles:A}=c(),{groupColumns:C,dataWithGroups:T,expandableConfig:f}=(0,i.A)({expandedRowKeys:t,setExpandedRowKeys:r,form:s,selectedProgramId:a,targetStateOnProduct:l,setTargetStateOnProduct:p,disabledTable:g,tables:m,setTables:u,isLoadingGetProjectId:P,isFetchingGetProjectId:j,targets:b,currentProjects:h,posts:y,projects:x,selectedProjectIds:w,setSelectedProjectIds:I,setDescriptionProgram:S,descriptionProgram:v,stylesColumnProjectPopconfim:{placement:"rightBottom"},stylesColumnProjectSelect:{style:{width:"100%"},placement:"topLeft"},stylesColumnSelect:{style:{width:"100%"},placement:"topLeft"},stylesColumnDate:{style:{width:"100%"}}});return(0,d.jsx)(o.A,{form:s,disabled:g,children:(0,d.jsx)(n.A,{bordered:!0,className:A.customTable,loading:P||j,columns:C,dataSource:T,rowKey:"key",pagination:!1,scroll:{x:"max-content",y:"calc(100vh - 320px)"},style:{width:"100%"},expandable:f})})}var g=r(8677),m=r(6597),u=r(1982),P=r(4434),j=r(898),b=r(5206),h=r(8738),y=r(8208);function x(e){let{currentProgram:t,isLoadingGetProjectId:r,open:s,setOpen:a,disabled:n}=e;const{form:l,isSaving:i,setIsSaving:c,strategies:p,isLoadingGetNew:x,updateProject:w,isLoadingUpdateProjectMutation:I,isSuccessUpdateProjectMutation:S,isErrorUpdateProjectMutation:v,ErrorUpdateProjectMutation:A,localIsResponseUpdateProjectMutation:C,handlePostValuesChange:T,handleSave:f,handleReset:L}=(0,y.A)({currentProgram:t,isLoadingGetProjectId:r,open:s,setOpen:a,disabled:n});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(g.A,{closable:!0,destroyOnClose2:!0,title:(0,d.jsx)("div",{style:{whiteSpace:"nowrap"},children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b"}),placement:"right",open:s,loading:r||x,onClose:()=>{a(!1),L()},width:h.Fr?300:350,children:(0,d.jsxs)(m.A,{vertical:!0,style:{height:"100%"},children:[(0,d.jsxs)(o.A,{disabled:n,form:l,onValuesChange:T,layout:"vertical",style:{flexGrow:1},children:[(0,d.jsx)(o.A.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b",name:"projectName",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"}],children:(0,d.jsx)(u.A,{})}),(0,d.jsx)(o.A.Item,{label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",name:"strategyId",children:(0,d.jsx)(P.A,{allowClear:!0,showSearch:!0,optionFilterProp:"label",filterOption:(e,t)=>null===t||void 0===t?void 0:t.label.toLowerCase().includes(e.toLowerCase()),options:null===p||void 0===p?void 0:p.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})})]}),(0,d.jsxs)(j.A,{style:{marginTop:"auto"},children:[(0,d.jsx)(b.Ay,{type:"primary",onClick:f,loading:i,disabled:n,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,d.jsx)(b.Ay,{onClick:L,disabled:n,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})})})}r(3536);var w=r(8918),I=r(6651),S=r(647),v=r(4357),A=r(5337),C=r(8143),T=r(9281);function f(e){let{activeTabTypesProgram:t,disabledTable:r}=e;const{selectedProgramId:s,setSelectedProgramId:a,selectedStrategyId:o,setSelectedStrategyId:n,selectedProjectIds:l,setSelectedProjectIds:i,descriptionProgram:c,setDescriptionProgram:g,form:u,isSaving:j,setIsSaving:h,tables:y,setTables:f,targetStateOnProduct:L,setTargetStateOnProduct:G,expandedRowKeys:O,setExpandedRowKeys:U,items:k,setItems:E,activeTab:M,setActiveTab:R,openDrawer:K,setOpenDrawer:F,programs:D,archivesPrograms:N,isErrorGetProject:z,isLoadingGetProject:B,currentProgram:V,currentProjects:_,targets:q,isLoadingGetProgramId:W,isErrorGetProgramId:H,isFetchingGetProgramId:J,posts:Q,strategies:X,projects:Y,isLoadingGetNew:Z,isErrorGetNew:$,reduxSelectedOrganizationId:ee,createProject:te,isLoadingProjectMutation:re,updateProject:se,isLoadingUpdateProjectMutation:ae,isSuccessUpdateProjectMutation:oe,isErrorUpdateProjectMutation:ne,ErrorUpdateProjectMutation:le,localIsResponseUpdateProjectMutation:ie,onChangeTab:de,addProgram:ce,resetUseState:pe,updateSingleProject:ge}=(0,T.A)({activeTabTypesProgram:t});return(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsxs)(m.A,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,d.jsx)(w.A,{style:{width:"calc(100% - 40px)"},type:"programs"===t?"editable-card":"card",activeKey:M,items:k,onChange:de,addIcon:(0,d.jsx)(I.A,{placement:"bottom",title:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443",children:(0,d.jsx)(S.A,{placement:"rightBottom",showCancel:!1,okButtonProps:{style:{display:"none"}},icon:null,description:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m.A,{vertical:!0,gap:"small",children:[(0,d.jsx)(v.A,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"}),(0,d.jsx)(P.A,{style:{width:"160px"},allowClear:!0,showSearch:!0,optionFilterProp:"label",value:o,onChange:e=>n(e),filterOption:(e,t)=>null===t||void 0===t?void 0:t.label.toLowerCase().includes(e.toLowerCase()),options:X.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})]}),(0,d.jsx)(b.Ay,{style:{marginTop:"10px",marginLeft:"55px"},size:"small",type:"primary",onClick:ce,disabled:!o,children:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),children:(0,d.jsx)(b.Ay,{"data-tour":"create-button",size:"small",type:"text",icon:(0,d.jsx)(A.A,{})})})})}),(0,d.jsx)(I.A,{placement:"bottom",title:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:(0,d.jsx)(b.Ay,{"data-tour":"save-button",type:"primary",style:{width:"40px"},icon:(0,d.jsx)(C.A,{}),onClick:ge,loading:j})})]}),s&&(0,d.jsx)(x,{currentProgram:V,isLoadingGetProgramId:W,open:K,setOpen:F,disabled:"archivesPrograms"===t}),(0,d.jsx)(p,{expandedRowKeys:O,setExpandedRowKeys:U,form:u,selectedProgramId:s,disabledTable:r,tables:y,setTables:f,isLoadingGetProgramId:W,isFetchingGetProgramId:J,currentProjects:_,targets:q,targetStateOnProduct:L,setTargetStateOnProduct:G,posts:Q,projects:Y,selectedProjectIds:l,setSelectedProjectIds:i,setDescriptionProgram:g,descriptionProgram:c})]})}}}]);
//# sourceMappingURL=101.c9dd1b30.chunk.js.map