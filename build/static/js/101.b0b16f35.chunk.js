"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[101],{4101:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});r(5043);var s=r(2638),a=r(4825),o=r(3361),n=r(8753),l=r(579);const i=(0,o.rU)((e=>{let{css:t,token:r}=e;const{antCls:s}=r;return{customTable:t`
      ${s}-table {
        ${s}-table-container {
          ${s}-table-body,
          ${s}-table-content {
            scrollbar-width: thin;
            scrollbar-color: #eaeaea transparent;
            scrollbar-gutter: stable;
          }
        }
      }
    `}}));function d(e){let{expandedRowKeys:t,setExpandedRowKeys:r,form:o,selectedProgramId:d,targetStateOnProduct:c,setTargetStateOnProduct:p,disabledTable:g,tables:m,setTables:u,isLoadingGetProjectId:P,isFetchingGetProjectId:j,targets:b,currentProjects:h,posts:y,projects:x,selectedProjectIds:w,setSelectedProjectIds:I,setDescriptionProgram:S,descriptionProgram:v}=e;const{styles:A}=i(),{groupColumns:C,dataWithGroups:T,expandableConfig:f}=(0,n.A)({expandedRowKeys:t,setExpandedRowKeys:r,form:o,selectedProgramId:d,targetStateOnProduct:c,setTargetStateOnProduct:p,disabledTable:g,tables:m,setTables:u,isLoadingGetProjectId:P,isFetchingGetProjectId:j,targets:b,currentProjects:h,posts:y,projects:x,selectedProjectIds:w,setSelectedProjectIds:I,setDescriptionProgram:S,descriptionProgram:v,stylesColumnProjectPopconfim:{placement:"rightBottom"},stylesColumnProjectSelect:{style:{width:"100%"},placement:"topLeft"},stylesColumnSelect:{style:{width:"100%"},placement:"topLeft"},stylesColumnDate:{style:{width:"100%"}}});return(0,l.jsx)(s.A,{form:o,disabled:g,children:(0,l.jsx)(a.A,{bordered:!0,className:A.customTable,loading:P||j,columns:C,dataSource:T,rowKey:"key",pagination:!1,scroll:{x:"max-content",y:"calc(100vh - 320px)"},style:{width:"100%"},expandable:f})})}var c=r(8677),p=r(6597),g=r(2524),m=r(4434),u=r(898),P=r(5206),j=r(8738),b=r(8208);function h(e){let{currentProgram:t,isLoadingGetProjectId:r,open:a,setOpen:o,disabled:n}=e;const{form:i,isSaving:d,setIsSaving:h,strategies:y,isLoadingGetNew:x,updateProject:w,isLoadingUpdateProjectMutation:I,isSuccessUpdateProjectMutation:S,isErrorUpdateProjectMutation:v,ErrorUpdateProjectMutation:A,localIsResponseUpdateProjectMutation:C,handlePostValuesChange:T,handleSave:f,handleReset:L}=(0,b.A)({currentProgram:t,isLoadingGetProjectId:r,open:a,setOpen:o,disabled:n});return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(c.A,{closable:!0,destroyOnClose2:!0,title:(0,l.jsx)("div",{style:{whiteSpace:"nowrap"},children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b"}),placement:"right",open:a,loading:r||x,onClose:()=>{o(!1),L()},width:j.Fr?300:350,children:(0,l.jsxs)(p.A,{vertical:!0,style:{height:"100%"},children:[(0,l.jsxs)(s.A,{disabled:n,form:i,onValuesChange:T,layout:"vertical",style:{flexGrow:1},children:[(0,l.jsx)(s.A.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b",name:"projectName",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!"}],children:(0,l.jsx)(g.A,{})}),(0,l.jsx)(s.A.Item,{label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",name:"strategyId",children:(0,l.jsx)(m.A,{allowClear:!0,showSearch:!0,optionFilterProp:"label",filterOption:(e,t)=>null===t||void 0===t?void 0:t.label.toLowerCase().includes(e.toLowerCase()),options:null===y||void 0===y?void 0:y.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})})]}),(0,l.jsxs)(u.A,{style:{marginTop:"auto"},children:[(0,l.jsx)(P.Ay,{type:"primary",onClick:f,loading:d,disabled:n,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,l.jsx)(P.Ay,{onClick:L,disabled:n,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]})]})})})}r(3536);var y=r(8918),x=r(6651),w=r(647),I=r(4357),S=r(5337),v=r(8143),A=r(9281);function C(e){let{activeTabTypesProgram:t,disabledTable:r}=e;const{selectedProgramId:s,setSelectedProgramId:a,selectedStrategyId:o,setSelectedStrategyId:n,selectedProjectIds:i,setSelectedProjectIds:c,descriptionProgram:g,setDescriptionProgram:u,form:j,isSaving:b,setIsSaving:C,tables:T,setTables:f,targetStateOnProduct:L,setTargetStateOnProduct:G,expandedRowKeys:O,setExpandedRowKeys:U,items:k,setItems:E,activeTab:M,setActiveTab:R,openDrawer:K,setOpenDrawer:F,programs:D,archivesPrograms:N,isErrorGetProject:$,isLoadingGetProject:z,currentProgram:B,currentProjects:V,targets:_,isLoadingGetProgramId:q,isErrorGetProgramId:W,isFetchingGetProgramId:H,posts:J,strategies:Q,projects:X,isLoadingGetNew:Y,isErrorGetNew:Z,reduxSelectedOrganizationId:ee,createProject:te,isLoadingProjectMutation:re,updateProject:se,isLoadingUpdateProjectMutation:ae,isSuccessUpdateProjectMutation:oe,isErrorUpdateProjectMutation:ne,ErrorUpdateProjectMutation:le,localIsResponseUpdateProjectMutation:ie,onChangeTab:de,addProgram:ce,resetUseState:pe,updateSingleProject:ge}=(0,A.A)({activeTabTypesProgram:t});return(0,l.jsxs)("div",{style:{width:"100%"},children:[(0,l.jsxs)(p.A,{justify:"space-between",align:"center",style:{width:"100%"},children:[(0,l.jsx)(y.A,{style:{width:"calc(100% - 40px)"},type:"programs"===t?"editable-card":"card",activeKey:M,items:k,onChange:de,addIcon:(0,l.jsx)(x.A,{placement:"bottom",title:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443",children:(0,l.jsx)(w.A,{placement:"rightBottom",showCancel:!1,okButtonProps:{style:{display:"none"}},icon:null,description:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(p.A,{vertical:!0,gap:"small",children:[(0,l.jsx)(I.A,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"}),(0,l.jsx)(m.A,{style:{width:"160px"},allowClear:!0,showSearch:!0,optionFilterProp:"label",value:o,onChange:e=>n(e),filterOption:(e,t)=>null===t||void 0===t?void 0:t.label.toLowerCase().includes(e.toLowerCase()),options:Q.map((e=>({label:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f "+e.strategyNumber,value:e.id})))})]}),(0,l.jsx)(P.Ay,{style:{marginTop:"10px",marginLeft:"55px"},size:"small",type:"primary",onClick:ce,disabled:!o,children:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),children:(0,l.jsx)(P.Ay,{"data-tour":"create-button",size:"small",type:"text",icon:(0,l.jsx)(S.A,{})})})})}),(0,l.jsx)(x.A,{placement:"bottom",title:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:(0,l.jsx)(P.Ay,{"data-tour":"save-button",type:"primary",style:{width:"40px"},icon:(0,l.jsx)(v.A,{}),onClick:ge,loading:b})})]}),s&&(0,l.jsx)(h,{currentProgram:B,isLoadingGetProgramId:q,open:K,setOpen:F,disabled:"archivesPrograms"===t}),(0,l.jsx)(d,{expandedRowKeys:O,setExpandedRowKeys:U,form:j,selectedProgramId:s,disabledTable:r,tables:T,setTables:f,isLoadingGetProgramId:q,isFetchingGetProgramId:H,currentProjects:V,targets:_,targetStateOnProduct:L,setTargetStateOnProduct:G,posts:J,projects:X,selectedProjectIds:i,setSelectedProjectIds:c,setDescriptionProgram:u,descriptionProgram:g})]})}}}]);
//# sourceMappingURL=101.b0b16f35.chunk.js.map