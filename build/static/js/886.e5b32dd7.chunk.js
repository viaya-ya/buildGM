"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[886],{1268:(e,t,a)=>{a.d(t,{A:()=>d});a(5043);const r={editText:"BottomHeaders_editText__6e9Ca"},n={wrapper:"ButtonAction_wrapper__YWbBU"};var o=a(3732),s=a(4530),i=a(9307),l=a(579);function c(e){let{create:t,update:a,refUpdate:r,refCreate:c}=e;return(0,l.jsxs)("div",{className:n.wrapper,children:[t&&(0,l.jsx)(i.A,{refAction:c,name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:o.A,onClick:t}),a&&(0,l.jsx)(i.A,{refAction:r,name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:s.A,onClick:a})]})}function d(e){let{children:t,create:a,update:n,refUpdate:o,refCreate:s}=e;return(0,l.jsxs)("div",{className:r.editText,children:[t,(0,l.jsx)(c,{create:a,update:n,refUpdate:o,refCreate:s})]})}},6378:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);const r={modalDelete:"ModalWindow_modalDelete__6F2XA",modalDeleteElement:"ModalWindow_modalDeleteElement__BWKSd",modalRow1:"ModalWindow_modalRow1__lAjGg",modalRow2:"ModalWindow_modalRow2__s2-a6",btnYes:"ModalWindow_btnYes__ScZrA",btnNo:"ModalWindow_btnNo__q5w-4",textBtnYes:"ModalWindow_textBtnYes__nsbep",textBtnNo:"ModalWindow_textBtnNo__3q10K",text:"ModalWindow_text__LCc-R",exitImage:"ModalWindow_exitImage__OFdfY"};var n=a(7583),o=a(579);function s(e){let{text:t,close:a,btnYes:s,btnNo:i,exitBtn:l}=e;return(0,o.jsx)("div",{className:r.modalDelete,children:(0,o.jsxs)("div",{className:r.modalDeleteElement,children:[(0,o.jsx)("img",{src:n.A,alt:"exit",className:r.exitImage,onClick:()=>a(!1)}),(0,o.jsx)("div",{className:r.modalRow1,children:(0,o.jsx)("span",{className:r.text,children:t})}),!l&&(0,o.jsxs)("div",{className:r.modalRow2,children:[(0,o.jsx)("button",{className:"".concat(r.btnYes," ").concat(r.textBtnYes),onClick:s,children:"\u0414\u0430"}),(0,o.jsx)("button",{className:"".concat(r.btnNo," ").concat(r.textBtnNo),onClick:i,children:"\u041d\u0435\u0442"})]})]})})}},6451:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);const r={item:"SelectBorder_item__fFqI+",select:"SelectBorder_select__9Mkwg","\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439":"SelectBorder_\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439__2n7E0","\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a":"SelectBorder_\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a__+JQtL","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e":"SelectBorder_\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e__Y7edP"};var n=a(579);function o(e){let{value:t,onChange:a,array:o,array1:s,arrayItem:i,prefix:l,styleSelected:c,refSelectBorder:d}=e;return(0,n.jsx)("div",{className:r.item,ref:d,children:(0,n.jsxs)("select",{name:"mySelect",value:t,onChange:e=>{a(e.target.value)},className:"".concat(r.select," ").concat(r[c]),children:[(0,n.jsx)("option",{value:"",disabled:!0,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"}),null===o||void 0===o?void 0:o.map((e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("option",{value:e.id,className:r[e.state],children:[l,e[i]]},e.id)}))),null===s||void 0===s?void 0:s.map((e=>(0,n.jsxs)("option",{value:e.id,className:r[e.state],children:[l,e[i]]},e.id)))]})})}},1818:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);const r={textArea:"TextArea_textArea__dawEa",textColor:"TextArea_textColor__qu0hR"};var n=a(579);function o(e){let{value:t,onChange:a,readOnly:o}=e;return(0,n.jsx)("textarea",{className:"".concat(r.textArea," ").concat(o?r.textColor:""),value:t,onChange:e=>a(e.target.value),disabled:o})}},7214:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);const r={wave:"WaveLetters_wave__DfO0r"};var n=a(579);function o(e){let{letters:t}=e;const a=t.split("");return(0,n.jsx)("div",{className:r.wave,children:null===a||void 0===a?void 0:a.map(((e,t)=>(0,n.jsx)("span",{style:{"--i":t+1},children:" "===e?"\xa0\xa0":e},t)))})}},2886:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var r=a(9379),n=a(5043);const o={dialog:"Strategy_dialog__kw-u4",header:"Strategy_header__I2r5Z",fon:"Strategy_fon__Pg-ST",pomoshnikSearch:"Strategy_pomoshnikSearch__jSggq",pomoshnik:"Strategy_pomoshnik__koFLu",iconBack:"Strategy_iconBack__fpTQP",search:"Strategy_search__fBWvL",spanPomoshnik:"Strategy_spanPomoshnik__JzzbV",editText:"Strategy_editText__fZNye",two:"Strategy_two__GZ-q+",iconSavetmp:"Strategy_iconSavetmp__4o4mz",blockSelect:"Strategy_blockSelect__pB+iw",option:"Strategy_option__nIkvH",date:"Strategy_date__EFr0f",actionButton:"Strategy_actionButton__YoTUV",iconAdd:"Strategy_iconAdd__JAoE1",iconSave:"Strategy_iconSave__GFYMt",image:"Strategy_image__h9cwk",itemName:"Strategy_itemName__+Jo+s",select:"Strategy_select__qy5kW",div:"Strategy_div__uvyzG",main:"Strategy_main__zdeKp",Teaxtaera:"Strategy_Teaxtaera__q63YV",active:"Strategy_active__XgZhZ",completed:"Strategy_completed__biEwf",draft:"Strategy_draft__qiMHu"};var s=a(6537),i=a(71),l=a(7214),c=a(6378),d=a(1818),_=a(7422),u=a(1268),g=a(6451),S=a(2941),m=a(8877),x=a(839),v=a(4863),y=a(4293),h=a(579);function p(){var e,t,a,p,f,j,A,w,N,b;const[k,B]=(0,n.useState)(""),[C,M]=(0,n.useState)(""),[E,I]=(0,n.useState)(""),[F,W]=(0,n.useState)(null),[R,Y]=(0,n.useState)(!1),[L,T]=(0,n.useState)(!1),P=(0,n.useRef)(null),U=(0,n.useRef)(null),O=(0,n.useRef)(null),q=(0,n.useRef)(null),[D,J]=(0,n.useState)(!1),z=[{title:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e",description:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u043a\u0440\u0430\u0442\u043a\u043e\u0441\u0440\u043e\u0447\u043d\u043e\u0439 \u0446\u0435\u043b\u0438",target:()=>U.current},{title:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0438 \u043f\u043e\u043c\u0435\u043d\u044f\u0439\u0442\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",target:()=>k?P.current:null,disabled:!k},{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",target:()=>O.current},{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",description:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",target:()=>q.current}].filter((e=>!e.disabled)),{reduxSelectedOrganizationId:Z,activeAndDraftStrategies:G,archiveStrategies:H,activeStrategyId:K,hasDraftStrategies:V,isLoadingStrategies:Q,isErrorStrategies:X,postStrategy:$,isLoadingPostStrategyMutation:ee,isSuccessPostStrategyMutation:te,isErrorPostStrategyMutation:ae,errorPostStrategyMutation:re,localIsResponsePostStrategyMutation:ne,currentStrategy:oe,currentStrategyState:se,isLoadingStrategyId:ie,isFetchingStrategyId:le,isErrorStrategyId:ce,updateStrategy:de,isLoadingUpdateStrategyMutation:_e,isSuccessUpdateStrategyMutation:ue,isErrorUpdateStrategyMutation:ge,errorUpdateStrategyMutation:Se,localIsResponseUpdateStrategyMutation:me}=(0,m.Od)(k),xe=({"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a":["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439","\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"],"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439":["\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439","\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"],"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e":["\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"]}[oe.state]||[]).map((e=>({id:e,value:e}))),ve=async()=>{await $({content:" ",organizationId:Z}).unwrap().then((e=>{W(e.id)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},ye=async()=>{const e=[];""!==C&&C!==oe.state&&(e.state=C),console.log(E),E!==oe.content&&(e.content=E),await de((0,r.A)({_id:k},e)).unwrap().then((()=>{Y(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))};return(0,n.useEffect)((()=>{null!==F&&B(F)}),[F]),(0,n.useEffect)((()=>{oe.content&&I(oe.content),oe.state&&M(oe.state)}),[oe.id]),(0,h.jsxs)("div",{className:o.dialog,children:[(0,h.jsx)(_.A,{name:"\u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",funcActiveHint:()=>J(!0),children:(0,h.jsxs)(u.A,{create:()=>{!0===V?T(!0):ve()},update:()=>{console.log("activeStrategyId"),console.log(K),"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"===C&&"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"===oe.state&&K?Y(!0):ye()},refCreate:O,refUpdate:q,children:[(0,h.jsx)(g.A,{refSelectBorder:U,value:k,onChange:e=>{B(e)},array:G,array1:H,arrayItem:"strategyNumber",prefix:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u2116",styleSelected:se}),k&&(0,h.jsx)(S.A,{refSelect:P,name:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:C,onChange:M,array:xe,arrayItem:"value",disabledPole:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===oe.state})]})}),(0,h.jsx)(x.Ay,{locale:y.A,children:(0,h.jsx)(v.A,{open:D,onClose:()=>J(!1),steps:z})}),(0,h.jsxs)("div",{className:o.main,children:[X?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.A,{Error:!0})}):(0,h.jsx)(h.Fragment,{children:ce?(0,h.jsx)(i.A,{Error:ce}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.A,{Loading:Q}),ie||le?(0,h.jsx)(i.A,{Loading:ie,Fetching:le}):(0,h.jsx)(h.Fragment,{children:oe.id?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.A,{value:E,onChange:I,readOnly:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"===oe.state},oe.id),(0,h.jsx)(s.A,{Loading:_e,Error:ge&&me,Success:ue&&me,textSuccess:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",textError:null!==Se&&void 0!==Se&&null!==(e=Se.data)&&void 0!==e&&null!==(t=e.errors)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&null!==(p=a.errors)&&void 0!==p&&p[0]?Se.data.errors[0].errors[0]:null===Se||void 0===Se||null===(f=Se.data)||void 0===f?void 0:f.message}),(0,h.jsx)(s.A,{Loading:ee,Error:ae&&ne,Success:te&&ne,textSuccess:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430.",textError:null!==re&&void 0!==re&&null!==(j=re.data)&&void 0!==j&&null!==(A=j.errors)&&void 0!==A&&null!==(w=A[0])&&void 0!==w&&null!==(N=w.errors)&&void 0!==N&&N[0]?re.data.errors[0].errors[0]:null===re||void 0===re||null===(b=re.data)||void 0===b?void 0:b.message})]}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.A,{letters:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e"})})})]})}),R?(0,h.jsx)(c.A,{text:"\u0423 \u0412\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f, \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u0414\u0430, \u041e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430.",close:Y,btnYes:async()=>{await de({_id:K,state:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"}).unwrap().then((()=>{ye()})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},btnNo:async()=>{const e=[];E!==oe.content&&(e.content=E),e.content?await de((0,r.A)({_id:k},e)).unwrap().then((()=>{M("\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"),Y(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))})):(Y(!1),M("\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"))}}):(0,h.jsx)(h.Fragment,{}),L?(0,h.jsx)(c.A,{text:"\u0423 \u0412\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438",close:T,exitBtn:!0}):(0,h.jsx)(h.Fragment,{})]})]})}}}]);
//# sourceMappingURL=886.e5b32dd7.chunk.js.map