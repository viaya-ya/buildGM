"use strict";(self.webpackChunkgood_management=self.webpackChunkgood_management||[]).push([[937],{5933:(e,t,i)=>{i.d(t,{A:()=>s});i(5043);const s=i.p+"static/media/subbarSearch.df8e3ae4a1f8534780d8d7a0a7a27549.svg"},1268:(e,t,i)=>{i.d(t,{A:()=>d});i(5043);const s={editText:"BottomHeaders_editText__6e9Ca"},o={wrapper:"ButtonAction_wrapper__YWbBU"};var r=i(3732),l=i(4530),a=i(9307),c=i(579);function n(e){let{create:t,update:i,refUpdate:s,refCreate:n}=e;return(0,c.jsxs)("div",{className:o.wrapper,children:[t&&(0,c.jsx)(a.A,{refAction:n,name:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c",icon:r.A,onClick:t}),i&&(0,c.jsx)(a.A,{refAction:s,name:"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",icon:l.A,onClick:i})]})}function d(e){let{children:t,create:i,update:o,refUpdate:r,refCreate:l}=e;return(0,c.jsxs)("div",{className:s.editText,children:[t,(0,c.jsx)(n,{create:i,update:o,refUpdate:r,refCreate:l})]})}},6378:(e,t,i)=>{i.d(t,{A:()=>l});i(5043);const s={modalDelete:"ModalWindow_modalDelete__6F2XA",modalDeleteElement:"ModalWindow_modalDeleteElement__BWKSd",modalRow1:"ModalWindow_modalRow1__lAjGg",modalRow2:"ModalWindow_modalRow2__s2-a6",btnYes:"ModalWindow_btnYes__ScZrA",btnNo:"ModalWindow_btnNo__q5w-4",textBtnYes:"ModalWindow_textBtnYes__nsbep",textBtnNo:"ModalWindow_textBtnNo__3q10K",text:"ModalWindow_text__LCc-R",exitImage:"ModalWindow_exitImage__OFdfY"};var o=i(7583),r=i(579);function l(e){let{text:t,close:i,btnYes:l,btnNo:a,exitBtn:c}=e;return(0,r.jsx)("div",{className:s.modalDelete,children:(0,r.jsxs)("div",{className:s.modalDeleteElement,children:[(0,r.jsx)("img",{src:o.A,alt:"exit",className:s.exitImage,onClick:()=>i(!1)}),(0,r.jsx)("div",{className:s.modalRow1,children:(0,r.jsx)("span",{className:s.text,children:t})}),!c&&(0,r.jsxs)("div",{className:s.modalRow2,children:[(0,r.jsx)("button",{className:"".concat(s.btnYes," ").concat(s.textBtnYes),onClick:l,children:"\u0414\u0430"}),(0,r.jsx)("button",{className:"".concat(s.btnNo," ").concat(s.textBtnNo),onClick:a,children:"\u041d\u0435\u0442"})]})]})})}},7214:(e,t,i)=>{i.d(t,{A:()=>r});i(5043);const s={wave:"WaveLetters_wave__DfO0r"};var o=i(579);function r(e){let{letters:t}=e;const i=t.split("");return(0,o.jsx)("div",{className:s.wave,children:null===i||void 0===i?void 0:i.map(((e,t)=>(0,o.jsx)("span",{style:{"--i":t+1},children:" "===e?"\xa0\xa0":e},t)))})}},937:(e,t,i)=>{i.r(t),i.d(t,{default:()=>X});var s=i(9379),o=i(5043);const r={dialog:"Policy_dialog__sOJ0q",item:"Policy_item__FmZcC",itemName:"Policy_itemName__0jtiZ",div:"Policy_div__NPkBf",five:"Policy_five__-smr1",sixth:"Policy_sixth__VZjyl",policySearch:"Policy_policySearch__gWKIW",listUL:"Policy_listUL__y6tnd",listULElement:"Policy_listULElement__7sf+7",policySearchItem:"Policy_policySearchItem__6l65O",listULElementNested:"Policy_listULElementNested__rDjsH",listULElementNestedTwo:"Policy_listULElementNestedTwo__B5GB3",listULNested:"Policy_listULNested__Rdicj",policySearchItemNested:"Policy_policySearchItemNested__XOEZy",policySearchItemNestedNested:"Policy_policySearchItemNestedNested__2fizD",listText:"Policy_listText__U896-",textMontserrat:"Policy_textMontserrat__DCkK3",textMontserrat14:"Policy_textMontserrat14__3rdF+",activeText:"Policy_activeText__S6ygd",draftText:"Policy_draftText__CP+ZG",completedText:"Policy_completedText__vUPmY",headerText:"Policy_headerText__B0zF-",main:"Policy_main__fzA0n"};var l=i(5933);const a=i.p+"static/media/folder.1a02631f43da20286f780a201c5db651.svg";const c=i.p+"static/media/iconSublist.826897c72c8e0f388e47f5161bee47bd.svg";var n=i(6537),d=i(71);const u=i.p+"static/media/addCircleBlue.5c3bed2da5be41e014d2024e9976a947.svg";var m=i(7214),h=(i(2874),i(33)),x=i(8750),p=i(6754),y=i(5341),v=i(6177),N=i(7396),j=i(9641),g=i(4938),_=i(6406),D=i(7115),P=i(2372),M=i(6995),f=i(753),b=i(5892),S=i(4978),C=i(4117);S.Ay.use(C.r9).init({resources:{ru:{translation:{"toolbar.undo":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","toolbar.redo":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c","toolbar.bold":"\u0416\u0438\u0440\u043d\u044b\u0439","toolbar.removeBold":"\u0423\u0431\u0440\u0430\u0442\u044c \u0436\u0438\u0440\u043d\u044b\u0439","toolbar.italic":"\u041a\u0443\u0440\u0441\u0438\u0432","toolbar.underline":"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439","toolbar.bulletedList":"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","toolbar.numberedList":"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","toolbar.checkList":"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","toolbar.image":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","toolbar.table":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443","toolbar.link":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","table.rowMenu":"\u041c\u0435\u043d\u044e \u0441\u0442\u0440\u043e\u043a","table.columnMenu":"\u041c\u0435\u043d\u044e \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432","table.alignRight":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0440\u0430\u0432\u0430","table.alignCenter":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","table.alignLeft":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u043b\u0435\u0432\u0430","table.insertColumnRight":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043f\u0440\u0430\u0432\u0430","table.insertColumnLeft":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043b\u0435\u0432\u0430","table.deleteColumn":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446","table.deleteRow":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443","table.deleteTable":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443","table.insertRowAbove":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443","table.insertRowBelow":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u043d\u0438\u0437\u0443","uploadImage.dialogTitle":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","uploadImage.addViaUrlInstructionsNoUpload":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u043e URL-\u0430\u0434\u0440\u0435\u0441\u0443:","uploadImage.alt":"\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u0433\u0434\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b\u043e\u0441\u044c","uploadImage.title":"\u041f\u043e\u0434\u043f\u0438\u0441\u044c","uploadImage.uploadInstructions":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e \u0441\u0432\u043e\u0435\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:","uploadImage.addViaUrlInstructions":"\u0418\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441 URL-\u0430\u0434\u0440\u0435\u0441\u0430:","imageEditor.deleteImage":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","imageEditor.editImage":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","dialogControls.save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","dialogControls.cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","createLink.url":"\u0421\u0441\u044b\u043b\u043a\u0430","createLink.title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","linkPreview.open":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c","linkPreview.remove":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","linkPreview.edit":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c","linkPreview.copyToClipboard":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"}}},lng:"ru",fallbackLng:"en",interpolation:{escapeValue:!1}});const L=S.Ay,w={wrapper:"Mdxeditor_wrapper__XL43X",editorContainer:"Mdxeditor_editorContainer__zW6EO","toolbar-custom":"Mdxeditor_toolbar-custom__t4HYm"};var I=i(9048),E=i(6467),k=i(579);function U(e){let{editorState:t,setEditorState:i,userId:r,readOnly:l}=e;const a=(0,o.useRef)(null),[c]=(0,I.M$)();return(0,k.jsx)("div",{className:w.wrapper,children:(0,k.jsx)("div",{className:w.editorContainer,children:(0,k.jsx)(h.R,{contentEditableClassName:w.par,ref:a,markdown:t,translation:(e,t,i)=>L.t(e,(0,s.A)({defaultValue:t},i)),placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u0432\u0435\u0441\u0442\u0438 \u0442\u0435\u043a\u0441\u0442",readOnly:l,onChange:e=>{a.current&&(a.current.setMarkdown(e),i(e))},plugins:[(0,x.O)(),(0,p.Mi)(),(0,y.Pz)({imageUploadHandler:async e=>{try{var t,i;const s=new FormData;s.append("file",e);const o=await c(s).unwrap(),r=null===(t=o.filePath||(null===(i=o.data)||void 0===i?void 0:i.filePath))||void 0===t?void 0:t.replace(/\\/g,"/");if(!r)throw new Error("filePath \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u043e\u0442\u0432\u0435\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");return console.log("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e:",r),"".concat(E.pc).concat(r)}catch(s){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f:",s),Promise.reject(s)}}}),(0,v.c3)(),(0,N.Zq)(),(0,j.F7)({toolbarClassName:w["toolbar-custom"],toolbarContents:()=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{style:{marginRight:"20px"},children:(0,k.jsx)(g.l,{})}),(0,k.jsx)("div",{style:{marginRight:"20px"},children:(0,k.jsx)(_.p,{})}),(0,k.jsx)("div",{style:{marginRight:"20px"},children:(0,k.jsx)(D.I,{})}),(0,k.jsx)(P.N,{}),(0,k.jsx)(M.wv,{}),(0,k.jsx)(f._,{}),(0,k.jsx)(M.wv,{}),(0,k.jsx)(b.d,{})]})})]})})})}var A=i(7422),T=i(1268),F=i(2941);const R={modal:"ModalFolder_modal__ApDDr",modalWindow:"ModalFolder_modalWindow__ee+lO",exit:"ModalFolder_exit__9xRSZ",header:"ModalFolder_header__eXDLA",search:"ModalFolder_search__9G089",item1:"ModalFolder_item1__R7pgO",item2:"ModalFolder_item2__twAOv",modalTableRowIcon:"ModalFolder_modalTableRowIcon__hPZCh",tablesContainer:"ModalFolder_tablesContainer__5USqE",tableWrapper:"ModalFolder_tableWrapper__vp8F0",tableHeader:"ModalFolder_tableHeader__mpAXh",tableContent:"ModalFolder_tableContent__84VTk",scrollContent:"ModalFolder_scrollContent__kshLZ",row:"ModalFolder_row__+kdMp"};const O=i.p+"static/media/deleteGrey.9244dfda749b0e4242fe453646d15a95.svg";var W=i(7583),B=i(4530),G=i(917),Y=i(9307);function Z(e){let{searchArrayDirectives:t,searchArrayInstructions:i,arrayDirectives:s,arrayInstructions:o,inputSearchModalDirectory:r,handleInputChangeModalSearch:l,handleCheckboxChange:a,directoryName:c,setDirectoryName:n,save:d,setOpenModalDeleteDirectory:u,exit:m,buttonDelete:h}=e;return(0,k.jsx)("div",{className:R.modal,children:(0,k.jsxs)("div",{className:R.modalWindow,children:[(0,k.jsx)("img",{src:W.A,alt:"exitModal",onClick:m,className:R.exit}),(0,k.jsxs)("div",{className:R.header,children:[(0,k.jsx)("div",{className:R.item1,children:(0,k.jsx)("input",{type:"search",placeholder:"\u041d\u0430\u0439\u0442\u0438",value:r,onChange:l,className:R.search})}),(0,k.jsxs)("div",{className:R.item2,children:[(0,k.jsx)(G.A,{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",value:c,onChange:n}),(0,k.jsxs)("div",{className:R.modalTableRowIcon,children:[(0,k.jsx)(Y.A,{name:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon:B.A,onClick:d}),h&&(0,k.jsx)(Y.A,{name:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c",icon:O,onClick:()=>u(!0)})]})]})]}),(0,k.jsxs)("div",{className:R.tablesContainer,children:[(0,k.jsxs)("div",{className:R.tableWrapper,children:[(0,k.jsx)("div",{className:R.tableHeader,children:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b"}),(0,k.jsx)("div",{className:R.tableContent,children:(0,k.jsx)("div",{className:R.scrollContent,children:(()=>{const e=t.length>0?t:s;return null===e||void 0===e?void 0:e.map((e=>(0,k.jsxs)("div",{className:R.row,onClick:()=>a(e.id,"directives"),children:[(0,k.jsx)("input",{type:"checkbox",checked:e.checked,onChange:e=>e.stopPropagation()}),(0,k.jsx)("span",{children:e.policyName})]},e.id)))})()})})]}),(0,k.jsxs)("div",{className:R.tableWrapper,children:[(0,k.jsx)("div",{className:R.tableHeader,children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"}),(0,k.jsx)("div",{className:R.tableContent,children:(0,k.jsx)("div",{className:R.scrollContent,children:(()=>{const e=i.length>0?i:o;return null===e||void 0===e?void 0:e.map((e=>(0,k.jsxs)("div",{className:R.row,onClick:()=>a(e.id,"instructions"),children:[(0,k.jsx)("input",{type:"checkbox",checked:e.checked,onChange:e=>e.stopPropagation()}),(0,k.jsx)("span",{children:e.policyName})]},e.id)))})()})})]})]})]})})}var z=i(6378),H=i(8877),J=i(9432);var V=i(3216);function X(){var e,t,i,h,x,p,y,v,N,j,g,_,D,P,M,f,b,S,C,L,w,I,E,R,O;const{policyId:W}=(0,V.g)();(0,o.useEffect)((()=>{W&&q(W)}),[]);const B=(0,o.useRef)(null),[G,Y]=(0,o.useState)(!1),[X,q]=(0,o.useState)(null),[K,Q]=(0,o.useState)(null),[$,ee]=(0,o.useState)(null),[te,ie]=(0,o.useState)(null),[se,oe]=(0,o.useState)(""),[re,le]=(0,o.useState)(!1),{reduxSelectedOrganizationId:ae}=(0,H.RA)(),{isLoadingGetPolicies:ce,isErrorGetPolicies:ne,isFetchingGetPolicies:de,instructionsActive:ue,instructionsDraft:me,instructionsCompleted:he,directivesActive:xe,directivesDraft:pe,directivesCompleted:ye,currentPolicy:ve,isLoadingGetPoliciesId:Ne,isFetchingGetPoliciesId:je,isErrorGetPoliciesId:ge,postPolicy:_e,isLoadingPostPoliciesMutation:De,isSuccessPostPoliciesMutation:Pe,isErrorPostPoliciesMutation:Me,ErrorPostPoliciesMutation:fe,localIsResponsePostPoliciesMutation:be,updatePolicy:Se,isLoadingUpdatePoliciesMutation:Ce,isSuccessUpdatePoliciesMutation:Le,isErrorUpdatePoliciesMutation:we,ErrorUpdatePoliciesMutation:Ie,localIsResponseUpdatePoliciesMutation:Ee}=(0,H.Ri)({policyId:X,organizationId:ae}),{setCurrentDirectoryInstructions:ke,setCurrentDirectoryDirectives:Ue,directoriesSendBD:Ae,currentDirectoryName:Te,setCurrentDirectoryName:Fe,directoryName:Re,setDirectoryName:Oe,currentDirectoryInstructions:We,currentDirectoryDirectives:Be,inputSearchModalDirectory:Ge,filterArraySearchModalDirectives:Ye,filterArraySearchModalInstructions:Ze,foldersSort:ze,isLoadingGetPolicyDirectories:He,isErrorGetPolicyDirectories:Je,isFetchingGetPolicyDirectories:Ve,openModalCreateDirectory:Xe,openCreateDirectory:qe,exitCreateDirectory:Ke,saveFolder:Qe,isLoadingPostPoliciesDirectoriesMutation:$e,isSuccessPostPoliciesDirectoriesMutation:et,isErrorPostPoliciesDirectoriesMutation:tt,ErrorPostPoliciesDirectoriesMutation:it,localIsResponsePostPolicyDirectoriesMutation:st,openModalUpdateDirectory:ot,updateDirectory:rt,exitUpdateDirectory:lt,saveUpdateFolder:at,isLoadingUpdatePolicyDirectoriesMutation:ct,isSuccessUpdatePolicyDirectoriesMutation:nt,isErrorUpdatePolicyDirectoriesMutation:dt,ErrorUpdateDirectories:ut,localIsResponseUpdatePolicyDirectoriesMutation:mt,openModalDeleteDirectory:ht,setOpenModalDeleteDirectory:xt,saveDeleteFolder:pt,isLoadingDeletePolicyDirectoriesMutation:yt,isSuccessDeletePolicyDirectoriesMutation:vt,isErrorDeletePolicyDirectoriesMutation:Nt,ErrorDeleteDirectories:jt,localIsResponseDeletePolicyDirectoriesMutation:gt,handleInputChangeModalSearch:_t,handleCheckboxChange:Dt,handleCheckboxChangeUpdate:Pt}=function(e){let{instructionsActive:t,directivesActive:i}=e;const[r,l]=(0,o.useState)(),[a,c]=(0,o.useState)(),[n,d]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),[h,x]=(0,o.useState)(!1),[p,y]=(0,o.useState)(""),[v,N]=(0,o.useState)([]),[j,g]=(0,o.useState)([]),[_,D]=(0,o.useState)([]),[P,M]=(0,o.useState)([]),[f,b]=(0,o.useState)(""),[S,C]=(0,o.useState)([]),[L,w]=(0,o.useState)([]),{folders:I,foldersSort:E,isLoadingGetPolicyDirectories:k,isErrorGetPolicyDirectories:U,isFetchingGetPolicyDirectories:A,deletePolicyDirectories:T,isLoadingDeletePolicyDirectoriesMutation:F,isSuccessDeletePolicyDirectoriesMutation:R,isErrorDeletePolicyDirectoriesMutation:O,ErrorDeleteDirectories:W,localIsResponseDeletePolicyDirectoriesMutation:B,updatePolicyDirectories:G,isLoadingUpdatePolicyDirectoriesMutation:Y,isSuccessUpdatePolicyDirectoriesMutation:Z,isErrorUpdatePolicyDirectoriesMutation:z,ErrorUpdateDirectories:H,localIsResponseUpdatePolicyDirectoriesMutation:V,postDirectory:X,isLoadingPostPoliciesDirectoriesMutation:q,isSuccessPostPoliciesDirectoriesMutation:K,isErrorPostPoliciesDirectoriesMutation:Q,ErrorPostPoliciesDirectoriesMutation:$,localIsResponsePostPolicyDirectoriesMutation:ee}=(0,J.Q)(),te=()=>{m(!1)};return(0,o.useEffect)((()=>{if(""!==f){const e=[...i],s=[...t],o=e.filter((e=>e.policyName.toLowerCase().includes(f.toLowerCase()))),r=s.filter((e=>e.policyName.toLowerCase().includes(f.toLowerCase())));C(o),w(r)}else C([]),w([])}),[f]),(0,o.useEffect)((()=>{!1===u&&(b(""),C([]),w([]))}),[u]),(0,o.useEffect)((()=>{!1===n&&(b(""),C([]),w([]))}),[n]),{setCurrentDirectoryInstructions:D,setCurrentDirectoryDirectives:M,directoriesSendBD:v,currentDirectoryName:r,setCurrentDirectoryName:l,directoryName:p,setDirectoryName:y,currentDirectoryInstructions:_,currentDirectoryDirectives:P,inputSearchModalDirectory:f,filterArraySearchModalDirectives:S,filterArraySearchModalInstructions:L,foldersSort:E,isLoadingGetPolicyDirectories:k,isErrorGetPolicyDirectories:U,isFetchingGetPolicyDirectories:A,openModalCreateDirectory:n,openCreateDirectory:()=>{d(!0)},exitCreateDirectory:()=>{d(!1)},saveFolder:async()=>{await X({directoryName:p,policyToPolicyDirectories:v}).unwrap().then((()=>{y(""),N([]),d(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},isLoadingPostPoliciesDirectoriesMutation:q,isSuccessPostPoliciesDirectoriesMutation:K,isErrorPostPoliciesDirectoriesMutation:Q,ErrorPostPoliciesDirectoriesMutation:$,localIsResponsePostPolicyDirectoriesMutation:ee,openModalUpdateDirectory:u,updateDirectory:e=>{const s=null===I||void 0===I?void 0:I.filter((t=>t.id===e.id));if((null===s||void 0===s?void 0:s.length)>0){var o,r;const{id:e,directoryName:a,policyToPolicyDirectories:n}=s[0],d=n.map((e=>e.policy.id));g(d);const u=t.filter((e=>d.includes(e.id))).map((e=>({id:e.id,policyName:e.policyName,checked:!0}))),h=i.filter((e=>d.includes(e.id))).map((e=>({id:e.id,policyName:e.policyName,checked:!0}))),x=null===_||void 0===_||null===(o=_.map((e=>{const t=null===u||void 0===u?void 0:u.find((t=>e.id===t.id));return{id:e.id,policyName:e.policyName,checked:!!t}})))||void 0===o?void 0:o.sort(((e,t)=>e.checked===t.checked?e.policyName.localeCompare(t.policyName):t.checked-e.checked)),p=null===P||void 0===P||null===(r=P.map((e=>{const t=null===h||void 0===h?void 0:h.find((t=>e.id===t.id));return{id:e.id,policyName:e.policyName,checked:!!t}})))||void 0===r?void 0:r.sort(((e,t)=>e.checked===t.checked?e.policyName.localeCompare(t.policyName):t.checked-e.checked));D(x),M(p),l(a),c(e),m(!0)}},exitUpdateDirectory:te,saveUpdateFolder:async()=>{await G({policyDirectoryId:a,directoryName:r,policyToPolicyDirectories:j}).unwrap().then((()=>{te()})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},isLoadingUpdatePolicyDirectoriesMutation:Y,isSuccessUpdatePolicyDirectoriesMutation:Z,isErrorUpdatePolicyDirectoriesMutation:z,ErrorUpdateDirectories:H,localIsResponseUpdatePolicyDirectoriesMutation:V,openModalDeleteDirectory:h,setOpenModalDeleteDirectory:x,saveDeleteFolder:async()=>{await T({policyDirectoryId:a}).unwrap().then((()=>{x(!1),m(!1)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},isLoadingDeletePolicyDirectoriesMutation:F,isSuccessDeletePolicyDirectoriesMutation:R,isErrorDeletePolicyDirectoriesMutation:O,ErrorDeleteDirectories:W,localIsResponseDeletePolicyDirectoriesMutation:B,handleInputChangeModalSearch:e=>{b(e.target.value)},handleCheckboxChange:e=>{N((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},handleCheckboxChangeUpdate:(e,t)=>{g((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e])),"directives"===t&&M((t=>t.map((t=>t.id===e?(0,s.A)((0,s.A)({},t),{},{checked:!t.checked}):t)))),"instructions"===t&&D((t=>t.map((t=>t.id===e?(0,s.A)((0,s.A)({},t),{},{checked:!t.checked}):t))))}}}({instructionsActive:ue,directivesActive:xe}),Mt=e=>{q(e)};(0,o.useEffect)((()=>{ve.policyName&&Q(ve.policyName),ve.type&&ee(ve.type),ve.state&&ie(ve.state),ve.content&&ve.content!==se&&oe(ve.content)}),[ve.id]),(0,o.useEffect)((()=>{if(ue.length>0){const e=ue.map((e=>({id:e.id,policyName:e.policyName,checked:!1})));ke(e)}if(xe.length>0){const e=xe.map((e=>({id:e.id,policyName:e.policyName,checked:!1})));Ue(e)}}),[ce,de]),(0,o.useEffect)((()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&Y(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,k.jsxs)("div",{className:r.dialog,children:[(0,k.jsx)(A.A,{name:"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430",children:(0,k.jsxs)(T.A,{create:async()=>{await _e({organizationId:ae}).unwrap().then((e=>{q(e.id)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},update:async()=>{const e={};null!==K&&ve.policyName!==K&&(e.policyName=K),null!==te&&ve.state!==te&&(e.state=te),null!==$&&ve.type!==$&&(e.type=$),null!==se&&ve.content!==se&&(e.content=se),await Se((0,s.A)({_id:X},e)).unwrap().then((()=>{})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",JSON.stringify(e,null,2))}))},children:[(0,k.jsxs)("div",{className:r.item,children:[(0,k.jsx)("div",{className:r.itemName,children:(0,k.jsxs)("span",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438 ",(0,k.jsx)("span",{style:{color:"red"},children:"*"})]})}),(0,k.jsxs)("div",{className:r.div,children:[(0,k.jsx)("input",{type:"text",value:K,onChange:e=>Q(e.target.value),title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438",className:"".concat(r.five," ").concat(r.textMontserrat14),disabled:re}),(0,k.jsxs)("div",{className:r.sixth,ref:B,children:[(0,k.jsx)("img",{src:l.A,alt:"subbarSearch",onClick:()=>Y(!0)}),G&&(0,k.jsxs)("ul",{className:r.policySearch,children:[(0,k.jsxs)("li",{className:r.policySearchItemNested,children:[(0,k.jsxs)("div",{className:r.listUL,children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:r.listText,children:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b"}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsxs)("ul",{className:r.listULElementNested,children:[(0,k.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,k.jsxs)("div",{className:r.listULNested,children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:"".concat(r.listText," ").concat(r.activeText),children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsx)("ul",{className:r.listULElementNestedTwo,children:null===xe||void 0===xe?void 0:xe.map((e=>(0,k.jsx)("li",{onClick:()=>{Mt(e.id),Y(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]}),(0,k.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,k.jsxs)("div",{className:r.listULNested,children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:"".concat(r.listText," ").concat(r.draftText),children:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a\u0438"}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsx)("ul",{className:r.listULElementNestedTwo,children:null===pe||void 0===pe?void 0:pe.map((e=>(0,k.jsx)("li",{onClick:()=>{Mt(e.id),Y(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]}),(0,k.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,k.jsxs)("div",{className:r.listULNested,children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:"".concat(r.listText," ").concat(r.completedText),children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsx)("ul",{className:r.listULElementNestedTwo,children:null===ye||void 0===ye?void 0:ye.map((e=>(0,k.jsx)("li",{onClick:()=>{Mt(e.id),le(!0),Y(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]})]})]}),(0,k.jsxs)("li",{className:r.policySearchItemNested,children:[(0,k.jsxs)("div",{className:r.listUL,children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:r.listText,children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsxs)("ul",{className:r.listULElementNested,children:[(0,k.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,k.jsxs)("div",{className:r.listULNested,children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:"".concat(r.listText," ").concat(r.activeText),children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsx)("ul",{className:r.listULElementNestedTwo,children:null===ue||void 0===ue?void 0:ue.map((e=>(0,k.jsx)("li",{onClick:()=>{Mt(e.id),Y(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]}),(0,k.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,k.jsxs)("div",{className:r.listULNested,children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:"".concat(r.listText," ").concat(r.draftText),children:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a\u0438"}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsx)("ul",{className:r.listULElementNestedTwo,children:null===me||void 0===me?void 0:me.map((e=>(0,k.jsx)("li",{onClick:()=>{Mt(e.id),Y(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]}),(0,k.jsxs)("li",{className:r.policySearchItemNestedNested,children:[(0,k.jsxs)("div",{className:r.listULNested,children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:"".concat(r.listText," ").concat(r.completedText),children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsx)("ul",{className:r.listULElementNestedTwo,children:null===he||void 0===he?void 0:he.map((e=>(0,k.jsx)("li",{onClick:()=>{Mt(e.id),le(!0),Y(!1)},className:r.textMontserrat,children:e.policyName},e.id)))})]})]})]}),null===ze||void 0===ze?void 0:ze.map((e=>{var t;let i=!1,s=!1;return(0,k.jsxs)("li",{className:r.policySearchItem,children:[(0,k.jsxs)("div",{className:r.listUL,onClick:()=>rt(e),children:[(0,k.jsx)("img",{src:a,alt:"folder"}),(0,k.jsx)("div",{className:r.listText,children:e.directoryName}),(0,k.jsx)("img",{src:c,alt:"iconSublist",style:{marginLeft:"auto"}})]}),(0,k.jsx)("ul",{className:r.listULElement,children:null===(t=e.policyToPolicyDirectories)||void 0===t?void 0:t.map((e=>{let t=null;"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"===e.policy.type&&!i&&(i=!0,t=(0,k.jsx)("li",{className:"".concat(r.headerText),children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438"},"instruction-header"));let l=null;return"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430"===e.policy.type&&!s&&(s=!0,l=(0,k.jsx)("li",{className:"".concat(r.headerText),children:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u044b"},"directive-header")),(0,k.jsxs)(o.Fragment,{children:[l,t,(0,k.jsx)("li",{onClick:()=>{Mt(e.policy.id),Y(!1)},className:r.textMontserrat,children:e.policy.policyName})]},e.policy.id)}))})]},e.id)})),(0,k.jsx)("li",{className:r.policySearchItem,children:(0,k.jsxs)("div",{className:r.listUL,onClick:qe,children:[(0,k.jsx)("img",{src:u,alt:"addCircleBlue"}),(0,k.jsx)("div",{className:r.listText,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443"})]})})]})]})]})]}),ve.id&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(F.A,{name:"\u0422\u0438\u043f",value:$,onChange:ee,array:[{id:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430",value:"\u0414\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430"},{id:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f",value:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"}],arrayItem:"value",disabledPole:re}),(0,k.jsx)(F.A,{name:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",value:te,onChange:ie,array:[{id:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a",value:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"},{id:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439",value:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"},{id:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d",value:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d"}],arrayItem:"value",disabledPole:re})]})]})}),(0,k.jsx)("div",{className:r.main,children:Me||ne&&Je?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(d.A,{Error:ne||Je||Me})}):(0,k.jsx)(k.Fragment,{children:ge?(0,k.jsx)(d.A,{Error:ge}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.A,{Loading:ce,Fetching:de}),(0,k.jsx)(d.A,{Loading:He,Fetching:Ve}),je||Ne?(0,k.jsx)(d.A,{Loading:Ne,Fetching:je}):(0,k.jsxs)(k.Fragment,{children:[ve.content?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(U,{editorState:ve.content,setEditorState:oe,readOnly:re},ve.id),(0,k.jsx)(n.A,{Loading:De,Error:Me&&be,Success:Pe&&be,textSuccess:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430.",textError:null!==fe&&void 0!==fe&&null!==(e=fe.data)&&void 0!==e&&null!==(t=e.errors)&&void 0!==t&&null!==(i=t[0])&&void 0!==i&&null!==(h=i.errors)&&void 0!==h&&h[0]?fe.data.errors[0].errors[0]:null===fe||void 0===fe||null===(x=fe.data)||void 0===x?void 0:x.message}),(0,k.jsx)(n.A,{Loading:Ce,Error:we&&Ee,Success:Le&&Ee,textSuccess:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 ".concat(K," \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"),textError:null!==Ie&&void 0!==Ie&&null!==(p=Ie.data)&&void 0!==p&&null!==(y=p.errors)&&void 0!==y&&null!==(v=y[0])&&void 0!==v&&null!==(N=v.errors)&&void 0!==N&&N[0]?Ie.data.errors[0].errors[0]:null===Ie||void 0===Ie||null===(j=Ie.data)||void 0===j?void 0:j.message})]}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(m.A,{letters:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443"})}),(0,k.jsx)(n.A,{Loading:$e,Error:tt&&st,Success:et&&st,textSuccess:"\u041f\u0430\u043f\u043a\u0430 ".concat(Re," \u0441\u043e\u0437\u0434\u0430\u043d\u0430"),textError:null!==it&&void 0!==it&&null!==(g=it.data)&&void 0!==g&&null!==(_=g.errors)&&void 0!==_&&null!==(D=_[0])&&void 0!==D&&null!==(P=D.errors)&&void 0!==P&&P[0]?it.data.errors[0].errors[0]:null===it||void 0===it||null===(M=it.data)||void 0===M?void 0:M.message}),(0,k.jsx)(n.A,{Loading:ct,Error:dt&&mt,Success:nt&&mt,textSuccess:"\u041f\u0430\u043f\u043a\u0430 ".concat(Te," \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"),textError:null!==ut&&void 0!==ut&&null!==(f=ut.data)&&void 0!==f&&null!==(b=f.errors)&&void 0!==b&&null!==(S=b[0])&&void 0!==S&&null!==(C=S.errors)&&void 0!==C&&C[0]?ut.data.errors[0].errors[0]:null===ut||void 0===ut||null===(L=ut.data)||void 0===L?void 0:L.message}),(0,k.jsx)(n.A,{Loading:yt,Error:Nt&&gt,Success:vt&&gt,textSuccess:"\u041f\u0430\u043f\u043a\u0430 ".concat(Te," \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),textError:null!==jt&&void 0!==jt&&null!==(w=jt.data)&&void 0!==w&&null!==(I=w.errors)&&void 0!==I&&null!==(E=I[0])&&void 0!==E&&null!==(R=E.errors)&&void 0!==R&&R[0]?jt.data.errors[0].errors[0]:null===jt||void 0===jt||null===(O=jt.data)||void 0===O?void 0:O.message}),Xe&&(0,k.jsx)(Z,{searchArrayDirectives:Ye,searchArrayInstructions:Ze,arrayDirectives:xe,arrayInstructions:ue,handleInputChangeModalSearch:_t,inputSearchModalDirectory:Ge,handleCheckboxChange:Dt,directoryName:Re,setDirectoryName:Oe,save:Qe,setOpenModalDeleteDirectory:xt,exit:Ke}),ot&&(0,k.jsx)(Z,{searchArrayDirectives:Ye,searchArrayInstructions:Ze,arrayDirectives:Be,arrayInstructions:We,handleInputChangeModalSearch:_t,inputSearchModalDirectory:Ge,handleCheckboxChange:Pt,directoryName:Te,setDirectoryName:Fe,save:at,setOpenModalDeleteDirectory:xt,exit:lt,buttonDelete:!0}),ht&&(0,k.jsx)(z.A,{text:" \u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443 ".concat(Te),close:xt,btnYes:()=>{pt()},btnNo:()=>{xt(!1)}})]})]})})})]})}}}]);
//# sourceMappingURL=937.5e6a71f7.chunk.js.map